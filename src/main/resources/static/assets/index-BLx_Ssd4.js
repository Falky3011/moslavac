import{u as w,r as u,a as Ce,b as B,j as e,M as F,S,L as b,m as z,B as C,R as $e,c as de,d as me,D as Ee,e as Pe,f as De,g as Me,h as Le,i as U,k as xe,v as _,l as Ae,C as Fe,n as he,A as $,o as H,I as K,p as P,q as L,s as ue,t as fe,P as Re,T,w as E,x as O,y as J,z as ze,E as qe,F as G,G as A,H as Q,J as V,K as D,N as pe,O as Ke,Q as Oe,U as Ge,V as je,W as Ue,X as ge,Y as ee,Z as be,_ as q,$ as we,a0 as Ve,a1 as Be,a2 as Ye,a3 as ye,a4 as We,a5 as He,a6 as Qe,a7 as _e,a8 as Ne,a9 as Z,aa as Je,ab as Ze,ac as Xe,ad as es,ae as ss,af as ts,ag as as,ah as ns,ai as rs,aj as ls,ak as is,al as os,am as cs,an as ds,ao as ms,ap as I,aq as xs,ar as hs,as as us}from"./vendor-BuZ8d3Fk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function fs(){return w({queryKey:["currentSeasonCompetitions"],queryFn:async()=>{const s=await fetch("http://localhost:8080/api/current-season-competitions",{method:"GET",headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Problem with fetching competitions");const t=await s.json(),n=new Date().getFullYear()%100,a=(n+1)%100,r=new RegExp(`\\b${n}/${a}\\b`);return t.filter(l=>r.test(l.name)&&!/\bkup\b/i.test(l.name))}})}const ve="/assets/grb-Bg3cAL5C.png",{Header:ps}=Pe;function js(){const[s,t]=u.useState(!1),[n,a]=u.useState(!1),{data:r,isLoading:l}=fs(),i=Ce(0,{stiffness:1e3,damping:100,mass:1}),o=B(i,[0,100],[100,64]),d=B(i,[0,100],[80,48]),c=B(i,[0,100],[1,.98]),x=B(i,[0,50],[1,0]);u.useEffect(()=>{const p=()=>{a(window.innerWidth<=768),window.innerWidth>768&&t(!1)},m=()=>{i.set(window.scrollY)};return window.addEventListener("resize",p),window.addEventListener("scroll",m),p(),m(),()=>{window.removeEventListener("resize",p),window.removeEventListener("scroll",m)}},[i]);const j=e.jsx(F,{children:l?e.jsxs(F.Item,{disabled:!0,children:[e.jsx(S,{size:"small"})," Učitavanje natjecanja..."]},"loading"):r==null?void 0:r.map(p=>e.jsx(F.Item,{children:e.jsx(b,{to:`/season/${p.id}/${encodeURIComponent(p.name)}`,onClick:()=>t(!1),children:p.name})},p.id))}),f=[{key:"news",label:"Vijesti",to:"/news"},{key:"season",label:e.jsx(De,{overlay:j,trigger:["click"],children:e.jsxs("span",{className:"flex items-center cursor-pointer",children:["Sezona ",e.jsx(Me,{className:"ml-1 text-sm",style:{display:"inline-flex",alignItems:"center",marginLeft:"4px"}})]})})},{key:"matches",label:"Utakmice",to:"/matches"},{key:"first-team",label:"Momčad",to:"/first-team"},{key:"webshop",label:"Webshop",to:"https://alpashrvatska.hr/snk-moslavac-popovaca/"}],g=()=>e.jsx(e.Fragment,{children:f.map(p=>e.jsx(F.Item,{children:p.to?e.jsx(b,{to:p.to,onClick:()=>t(!1),children:p.label}):p.label},p.key))});return e.jsx(z.div,{style:{height:o,opacity:c},className:"sticky top-0 z-50 w-full",children:e.jsxs(ps,{className:"h-full bg-white border-b border-gray-300 shadow-xl px-4",children:[e.jsxs("div",{className:"max-w-screen-xl mx-auto flex items-center h-full relative",children:[n&&e.jsx(C,{type:"text",icon:e.jsx($e,{style:{fontSize:"20px"}}),onClick:()=>t(!0),className:"p-0 absolute left-4 z-50"}),e.jsx(b,{to:"/",className:`flex items-center ${n?"mx-auto":"mr-8 ml-36"}`,children:e.jsx(z.img,{src:ve,alt:"Klub Grb",style:{height:d},transition:{type:"spring",stiffness:300,damping:30}})}),!n&&e.jsxs("div",{className:"flex-grow flex justify-between items-center",children:[e.jsx(F,{mode:"horizontal",className:"border-0 flex space-x-4",children:g()}),e.jsxs(z.div,{className:"flex items-center space-x-4",style:{opacity:x},children:[e.jsx(z.a,{href:"https://www.facebook.com/SNKMoslavacPopovaca","aria-label":"Facebook",className:"text-primary-foreground hover:text-accent",whileHover:{scale:1.2,rotate:5},children:e.jsx(de,{className:"text-2xl"})}),e.jsx(z.a,{href:"https://www.youtube.com/@SNKMoslavacPopovaca","aria-label":"YouTube",className:"text-primary-foreground hover:text-accent",whileHover:{scale:1.2,rotate:5},children:e.jsx(me,{className:"text-2xl"})})]})]})]}),e.jsx(Ee,{title:"Menu",placement:"left",onClose:()=>t(!1),visible:s,bodyStyle:{padding:0},className:"drawer-menu",children:e.jsx(F,{mode:"vertical",className:"border-0",children:g()})})]})})}const gs=async()=>{const s=await fetch("http://localhost:8080/api/matches");if(!s.ok)throw new Error("Error fetching matches from backend");return s.json()},ke=()=>w({queryKey:["allMatches"],queryFn:gs}),bs=Le(U);U.locale("hr");U.updateLocale("hr",{week:{dow:1}});const ws={date:"Datum",time:"Vrijeme",event:"Događaj",allDay:"Cijeli dan",week:"Tjedan",work_week:"Radni tjedan",day:"Dan",month:"Mjesec",previous:"Prethodni",next:"Sljedeći",yesterday:"Jučer",tomorrow:"Sutra",today:"Danas",agenda:"Agenda",noEventsInRange:"Nema događaja u ovom razdoblju.",showMore:s=>`+ Prikaži još ${s}`};function ys(){const s=xe(),{data:t,error:n,isLoading:a}=ke(),[r,l]=u.useState(window.innerWidth),[i,o]=u.useState(_.MONTH);if(u.useEffect(()=>{const c=()=>l(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),u.useEffect(()=>{r<768?o(_.DAY):o(_.MONTH)},[r]),a)return e.jsx("div",{children:"Učitavanje..."});if(n)return e.jsx("div",{children:"Greška pri učitavanju utakmica"});const d=t==null?void 0:t.map(c=>{const x=new Date(c.dateTimeUTC),j=Ae(x,2);return{title:`${c.competition.name} - ${c.homeTeam.name} vs ${c.awayTeam.name}`,start:x,end:j,allDay:!1,description:`${c.homeTeam.name} vs ${c.awayTeam.name} u ${c.competition.name}`,id:c.id}});return e.jsx("div",{className:"my-5 w-full px-4 md:w-10/12 md:mx-auto  ",children:e.jsx(Fe,{localizer:bs,events:d,startAccessor:"start",endAccessor:"end",tooltipAccessor:"description",views:["month","week","day"],defaultView:i,view:i,onView:o,messages:ws,selectable:!0,onSelectEvent:c=>s(`/matches/${c.id}`),min:U().set({hour:7,minute:0}).toDate(),className:"rbc-calendar min-h-[700px] h-auto pb-[20px] rounded-3xl shadow-xl transition-all duration-300 hover:shadow-2xl"})})}const{Title:te,Paragraph:Ns}=T;function ae(){const[s,t]=u.useState(1),n=10,r=he().pathname.endsWith("/admin"),[l,i]=u.useState(!1),[o,d]=u.useState(!1),[c,x]=u.useState("");u.useEffect(()=>{const h=localStorage.getItem("adminToken");h?j(h):r&&i(!0)},[r]);const j=async h=>{try{(await fetch("http://localhost:8080/api/admin/validate-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h})})).ok?d(!0):(localStorage.removeItem("adminToken"),r&&i(!0))}catch(N){console.error("Token validation failed",N)}},f=async()=>{try{const h=await fetch("http://localhost:8080/api/admin/validate-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:c})});if(h.ok){const N=await h.json();localStorage.setItem("adminToken",N.token),E.success("Uspješna autentifikacija!"),d(!0),i(!1)}else E.error("Pogrešna šifra!")}catch{E.error("Greška pri provjeri šifre!")}},g=async h=>{const N=await fetch(`http://localhost:8080/api/news?page=${h-1}&size=${n}`);if(!N.ok)throw new Error("Network response was not ok");return N.json()},{data:p,error:m,isLoading:y}=w({queryKey:["newslist",s],queryFn:()=>g(s),keepPreviousData:!0}),k=h=>{t(h)};return y?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(S,{size:"large"})}):m?e.jsx($,{message:"Error",description:m instanceof Error?m.message:"An unknown error occurred",type:"error",showIcon:!0,className:"max-w-4xl mx-auto mt-4"}):e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsxs(H,{title:"Administratorska autentifikacija",visible:l,onCancel:()=>i(!1),footer:[e.jsx(C,{onClick:()=>i(!1),children:"Odustani"},"cancel"),e.jsx(C,{type:"primary",onClick:f,children:"Potvrdi"},"submit")],children:[e.jsx("p",{children:"Molimo unesite administratorsku šifru za pristup."}),e.jsx(K.Password,{value:c,onChange:h=>x(h.target.value),placeholder:"Unesite šifru"})]}),o&&e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsx(b,{to:"/admin/manage-news",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Uredi vijesti"})}),e.jsx(te,{level:2,className:"mb-6 text-center text-2xl font-bold text-gray-800",children:"Vijesti"}),e.jsx(P,{dataSource:(p==null?void 0:p.content)||[],renderItem:h=>e.jsx(P.Item,{className:"p-0 mb-4 bg-white",children:e.jsx(L,{hoverable:!0,className:"w-full overflow-hidden rounded-3xl",bodyStyle:{padding:0},children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[h.thumbnailPath&&e.jsx("div",{className:"sm:w-1/3",children:e.jsx("img",{alt:h.title,src:h.thumbnailPath,className:"object-cover w-full h-48 sm:h-full"})}),e.jsxs("div",{className:"p-4 sm:w-2/3",children:[e.jsx(te,{level:4,className:"mb-2 text-lg font-semibold",children:h.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-1"}),new Date(h.date).toLocaleDateString()]}),e.jsx(Ns,{ellipsis:{rows:2},className:"text-sm text-gray-600",children:h.content}),e.jsxs(b,{to:`/news/${h.newsID}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm mt-2",children:["Pročitaj više",e.jsx(fe,{className:"w-4 h-4 ml-1"})]})]})]})})})}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(Re,{current:s,total:(p==null?void 0:p.totalElements)||0,pageSize:n,onChange:k,showSizeChanger:!1,className:"text-sm"})})]})}const{Title:vs,Paragraph:ks}=T;function Ts(){const{id:s}=O(),{data:t,error:n,isLoading:a}=w({queryKey:["newsDetail",s],queryFn:()=>fetch(`http://localhost:8080/api/news/${s}`).then(r=>{if(!r.ok)throw new Error("Network response was not ok");return r.json()})});return a?e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e.jsx(S,{size:"large"})}):n?e.jsx("div",{className:"max-w-4xl mx-auto p-4",children:e.jsx($,{message:"Error",description:`Error loading news details: ${n.message}`,type:"error",showIcon:!0,className:"shadow-md rounded-lg"})}):t?e.jsx("div",{className:"max-w-4xl mx-auto p-4 my-10",children:e.jsxs("article",{className:"bg-white shadow-lg rounded-3xl overflow-hidden",children:[t.thumbnailPath&&e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(J,{src:t.thumbnailPath,alt:"News Thumbnail",className:" object-cover rounded-md shadow-md"})}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsx(vs,{level:1,className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:t.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"mr-4",children:new Date(t.date).toLocaleDateString()}),e.jsx(ze,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:qe(new Date(t.date),"h:mm a")})]}),e.jsx(G,{className:"my-6"}),e.jsx(ks,{className:"text-lg text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.content}),t.imagePaths&&t.imagePaths.length>0&&e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.imagePaths.map((r,l)=>e.jsx(J,{src:r,alt:`Additional image ${l+1}`,className:"rounded-lg shadow-md"},l))})})]})]})}):e.jsx("div",{className:"max-w-4xl mx-auto p-4",children:e.jsx($,{message:"Not Found",description:"The requested news article could not be found.",type:"warning",showIcon:!0,className:"shadow-md rounded-lg"})})}const Ss=()=>w({queryKey:["news"],queryFn:async()=>(await A.get("http://localhost:8080/api/news")).data.content}),Is=()=>{const s=Q();return V({mutationFn:async t=>{const n=await A.post("http://localhost:8080/api/news",{title:t.title,content:t.content});if(t.thumbnail){const a=new FormData;a.append("thumbnail",t.thumbnail),await A.put(`http://localhost:8080/api/news/thumbnail/${n.data.newsID}`,a,{headers:{"Content-Type":"multipart/form-data"}})}if(t.files&&t.files.length>0){const a=new FormData;t.files.forEach(r=>a.append("files",r)),await A.put(`http://localhost:8080/api/news/photos/${n.data.newsID}`,a,{headers:{"Content-Type":"multipart/form-data"}})}return n.data},onSuccess:()=>{s.invalidateQueries({queryKey:["news"]})}})},Cs=()=>{const s=Q();return V({mutationFn:async t=>{const n=new FormData;return n.append("title",t.title),n.append("content",t.content),t.thumbnail&&n.append("thumbnail",t.thumbnail),t.files&&t.files.length>0&&t.files.forEach(r=>n.append("files",r)),(await A.put(`http://localhost:8080/api/news/${t.newsID}`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{s.invalidateQueries({queryKey:["news"]})}})},$s=()=>{const s=Q();return V({mutationFn:t=>A.delete(`http://localhost:8080/api/news/${t}`),onSuccess:()=>{s.invalidateQueries({queryKey:["news"]})}})},Es=async s=>(await A.post("/api/notifications/send",s)).data;function Ps(){return V({mutationFn:Es,onSuccess:()=>{console.log("Notification sent successfully!")},onError:s=>{console.error("Failed to send notification:",s)}})}const{TextArea:Ds}=K;function Ms(){const[s,t]=u.useState(null),[n,a]=u.useState(!1),[r,l]=u.useState(""),[i]=D.useForm(),o=xe();u.useEffect(()=>{localStorage.getItem("adminToken")||(E.error("No admin access. Redirecting to login..."),o("/news"))},[o]);const{data:d,isLoading:c}=Ss(),x=Is(),j=Cs(),f=$s(),g=Ps(),p=(h,N=null)=>{l(h),t(N),h==="edit"&&N?i.setFieldsValue(N):h==="add"&&i.resetFields(),a(!0)},m=()=>{a(!1),t(null),i.resetFields()},y=()=>{i.validateFields().then(h=>{r==="add"?x.mutate(h,{onSuccess:N=>{m(),E.success("News added successfully!");const se=localStorage.getItem("firebaseToken");if(!se){E.error("Firebase token not found. Cannot send notification.");return}g.mutate({token:se,title:`New News: ${N.title}`,body:N.content.slice(0,100)})}}):r==="edit"&&j.mutate({...h,newsID:s.newsID},{onSuccess:()=>{m(),E.success("News updated successfully!")}})})},k=h=>{f.mutate(h,{onSuccess:()=>{E.success("News deleted successfully!")}})};return e.jsxs("div",{className:"p-4 my-12 max-w-7xl mx-auto",children:[e.jsx(C,{type:"primary",icon:e.jsx(pe,{}),onClick:()=>p("add"),className:"mb-4 w-full sm:w-auto",children:"Add News"}),c?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(S,{size:"large"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Content"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:d==null?void 0:d.map(h=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:h.title})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:U(h.date).format("YYYY-MM-DD HH:mm")})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:h.content})}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:[e.jsx(C,{icon:e.jsx(Ke,{}),onClick:()=>p("view",h),className:"mr-2"}),e.jsx(C,{icon:e.jsx(Oe,{}),onClick:()=>p("edit",h),className:"mr-2"}),e.jsx(Ge,{title:"Are you sure you want to delete this news item?",onConfirm:()=>k(h.newsID),okText:"Yes",cancelText:"No",children:e.jsx(C,{icon:e.jsx(je,{})})})]})]},h.newsID))})]})}),e.jsx(H,{title:`${r.charAt(0).toUpperCase()+r.slice(1)} News`,visible:n,onCancel:m,footer:[e.jsx(C,{onClick:m,children:"Cancel"},"cancel"),e.jsx(C,{type:"primary",onClick:y,children:"Submit"},"submit")],width:720,children:e.jsxs(D,{form:i,layout:"vertical",className:"space-y-4",children:[e.jsx(D.Item,{name:"title",label:"Title",rules:[{required:!0}],children:e.jsx(K,{})}),e.jsx(D.Item,{name:"content",label:"Content",rules:[{required:!0}],children:e.jsx(Ds,{rows:4})})]})})]})}function v(s){return w({queryKey:["image",s],queryFn:()=>fetch(`https://api-hns.analyticom.de/api/live/images/${s}?teamIdFilter=1337`,{method:"GET",headers:{Accept:"application/json",API_KEY:"bd993d1e4919fd190ef3822902f81fa7a2a9f30f90a7b998f560b8ac21d4acabb62206f59cd09cac7089dbb7df709793c1b4b3a8ddf1596729eb6d5ae61d7f97"}}).then(t=>t.json()).then(t=>t&&t.contentType&&t.value?`data:${t.contentType};base64,${t.value}`:null)})}const ne=({picture:s,teamName:t})=>{const{data:n,error:a,isLoading:r}=v(s);return r?e.jsx(S,{size:"small"}):a?e.jsx($,{message:"Error",description:a.message,type:"error"}):e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:n,alt:t,className:"w-12 h-12 object-contain"})})},Ls=({match:s})=>{var t,n;return e.jsx(P.Item,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between w-full space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"flex-1 text-center sm:text-left text-gray-600",children:e.jsxs(T.Text,{className:"font-semibold",children:["Kolo ",s.round," ",e.jsx("br",{}),new Date(s.dateTimeUTC).toLocaleDateString()," ",e.jsx("br",{}),new Date(s.dateTimeUTC).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}),e.jsxs("div",{className:"flex flex-1 flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center sm:justify-end flex-1",children:[e.jsx(T.Text,{className:"text-gray-800 font-bold text-center sm:text-left text-sm sm:text-base mr-2 break-words",children:s.homeTeam.name}),e.jsx(ne,{picture:s.homeTeam.picture,teamName:s.homeTeam.name})]}),e.jsx(T.Text,{className:"mx-2 font-bold text-center w-16 sm:w-20",children:((t=s.homeTeamResult)==null?void 0:t.current)!==void 0&&((n=s.awayTeamResult)==null?void 0:n.current)!==void 0?e.jsxs("span",{children:[s.homeTeamResult.current," - ",s.awayTeamResult.current]}):e.jsx("span",{children:"VS"})}),e.jsxs("div",{className:"flex items-center sm:justify-start flex-1",children:[e.jsx(ne,{picture:s.awayTeam.picture,teamName:s.awayTeam.name}),e.jsx(T.Text,{className:"text-gray-800 font-bold text-center sm:text-left text-sm sm:text-base ml-2 break-words",children:s.awayTeam.name})]})]}),e.jsx("div",{className:"flex-1 text-center sm:text-right ",children:s.liveStatus==="PLAYED"&&e.jsx(b,{to:`/matches/${s.id}`,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold uppercase rounded-lg hover:bg-blue-700 hover:shadow-md transition duration-200",children:"Detalji"})})]})})},As=async s=>{const t=await fetch(`http://localhost:8080/api/competition/${s}/matches`);if(!t.ok)throw new Error("Error fetching matches from backend");return await t.json()},Fs=s=>w({queryKey:["allMatches",s],queryFn:()=>As(s)}),Rs=({competitionId:s})=>{const{data:t,error:n,isLoading:a}=Fs(s),r=c=>c.reduce((x,j)=>{const f=new Date(j.dateTimeUTC),g=`${f.getFullYear()}-${f.getMonth()+1}`;return x[g]||(x[g]=[]),x[g].push(j),x},{}),l=c=>c.sort((x,j)=>new Date(x.dateTimeUTC)-new Date(j.dateTimeUTC)),i=c=>Object.keys(c).sort((x,j)=>{const[f,g]=x.split("-").map(Number),[p,m]=j.split("-").map(Number);return f-p||g-m});if(a)return e.jsx(S,{size:"large"});if(n)return e.jsx($,{message:"Error fetching matches",type:"error"});const o=r(t);Object.keys(o).forEach(c=>{o[c]=l(o[c])});const d=i(o);return e.jsx("div",{className:"max-w-full mx-auto p-4 bg-gray-50 shadow-lg rounded-3xl md:max-w-[75%]",children:d.map(c=>e.jsxs("div",{className:"mb-6",children:[e.jsx(T.Title,{level:4,className:"text-lg font-bold text-gray-800 uppercase",children:new Date(c+"-01").toLocaleString("default",{month:"long",year:"numeric"})}),e.jsx(G,{}),e.jsx(P,{itemLayout:"horizontal",dataSource:o[c],renderItem:x=>e.jsx(Ls,{match:x})})]},c))})};function zs(s){return w({queryKey:["teamStandings",s],queryFn:async()=>{if(!s)return null;const t=await fetch(`http://localhost:8080/api/competition/${s}/standings`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Network response was not ok");return await t.json()},enabled:!!s})}function qs(){const{competitionId:s}=O(),{data:t,error:n,isLoading:a}=zs(s);if(a)return e.jsx(S,{tip:"Loading..."});if(n)return e.jsx($,{message:"Error",description:n.message,type:"error"});const r=[{title:"#",dataIndex:"position",key:"position",align:"center",render:l=>e.jsx("span",{className:"font-semibold text-sm",children:l}),width:50},{title:"Momčad",dataIndex:["team","name"],key:"team.name",render:(l,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ks,{picture:i.team.picture,teamName:i.team.name}),e.jsx("span",{className:`font-medium ${i.team.name==="SNK Moslavac"?"text-blue-600 font-bold text-sm sm:text-base":"text-gray-800"}`,children:l})]}),width:150},{title:"O",dataIndex:"played",key:"played",align:"center",responsive:["sm"],width:60},{title:"P",dataIndex:"wins",key:"wins",align:"center",responsive:["sm"],width:60},{title:"N",dataIndex:"draws",key:"draws",align:"center",responsive:["sm"],width:60},{title:"I",dataIndex:"losses",key:"losses",align:"center",responsive:["sm"],width:60},{title:"Golovi",dataIndex:"goalsFor",key:"goalsFor",render:(l,i)=>`${i.goalsFor}:${i.goalsAgainst}`,align:"center",responsive:["sm"],width:100},{title:"Bodovi",dataIndex:"points",key:"points",align:"center",className:"font-bold text-sm sm:text-base",width:80}];return e.jsxs("div",{className:"bg-gray-50 p-4 sm:p-6 max-w-full sm:max-w-3xl mx-auto my-8 sm:my-12 rounded-3xl shadow-xl",children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-center text-gray-900 mb-4 sm:mb-6",children:"Tablica"}),e.jsx("div",{className:"overflow-hidden",children:e.jsx(Ue,{dataSource:t,columns:r,rowKey:"team.id",pagination:!1,bordered:!1,className:"table-fixed w-full text-xs sm:text-sm",rowClassName:l=>`${l.team.name==="SNK Moslavac"?"bg-blue-100":l.position%2===0?"bg-white":"bg-gray-100"} `})})]})}const Ks=({picture:s,teamName:t})=>{const{data:n,error:a,isLoading:r}=v(s);return r?e.jsx(S,{size:"small"}):a?e.jsx($,{message:"Error",description:a.message,type:"error"}):e.jsx("img",{src:n.image,alt:t,className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full mr-2"})},Os=()=>{const{competitionId:s,competitionName:t}=O(),[n,a]=u.useState("matches");return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:decodeURIComponent(t)}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-l-lg border ${n==="matches"?"bg-gray-200 text-gray-900":"bg-white text-gray-500 hover:bg-gray-100"}`,onClick:()=>a("matches"),children:"Utakmice"}),e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-r-lg border-t border-b border-r ${n==="standings"?"bg-gray-200 text-gray-900":"bg-white text-gray-500 hover:bg-gray-100"}`,onClick:()=>a("standings"),children:"Tablica"})]})}),e.jsxs("div",{className:"mt-6",children:[n==="matches"&&e.jsx(Rs,{competitionId:s}),n==="standings"&&e.jsx(qs,{competitionId:s})]})]})};function Gs(s){return w({queryKey:["teamPlayers",s],queryFn:async()=>{const n=await(await fetch(`https://api-hns.analyticom.de/api/live/competition/${s}/matches/paginated/past/2/1337?page=1&pageSize=75&teamIdFilter=1337`,{method:"GET",headers:{Accept:"application/json",API_KEY:"bd993d1e4919fd190ef3822902f81fa7a2a9f30f90a7b998f560b8ac21d4acabb62206f59cd09cac7089dbb7df709793c1b4b3a8ddf1596729eb6d5ae61d7f97"}})).json();if(!n.result||n.result.length===0)return[];const a=n.result.reduce((c,x)=>{const j=new Date(x.date);return!c||j<new Date(c.date)?x:c},null);if(!a)return[];const r=a.homeTeam.id===1337,l=a.awayTeam.id===1337,o=await(await fetch(`https://api-hns.analyticom.de/api/live/match/${a.id}/lineups?teamIdFilter=1337`,{method:"GET",headers:{Accept:"application/json",API_KEY:"bd993d1e4919fd190ef3822902f81fa7a2a9f30f90a7b998f560b8ac21d4acabb62206f59cd09cac7089dbb7df709793c1b4b3a8ddf1596729eb6d5ae61d7f97"}})).json(),d=new Set;return r?(o.home.players||[]).forEach(x=>{d.add(x)}):l&&(o.away.players||[]).forEach(x=>{d.add(x)}),Array.from(d)}})}function Te(s){return w({queryKey:["playerDetails",s],queryFn:async()=>{if(!s)throw new Error("Invalid personId");const t=await fetch(`http://localhost:8080/api/player-details/${s}`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch player details");return await t.json()},enabled:!!s})}const{Text:re,Title:Us}=T;function Vs({playerId:s,competitionId:t}){const{data:n,isLoading:a,isError:r}=Te(s),{data:l,isLoading:i}=v(n==null?void 0:n.picture);return a||i?e.jsx(L,{className:"w-full",children:e.jsx(S,{})}):r?e.jsx(L,{className:"w-full",children:e.jsx(re,{type:"danger",children:"Došlo je do pogreške prilikom dohvaćanja detalja o igraču."})}):e.jsx(L,{className:"w-full hover:shadow-md transition-shadow duration-300",children:e.jsxs(b,{to:`/players/${s}/stats/${t}`,className:"flex items-center space-x-4",children:[e.jsx(ge,{size:64,src:l.image,icon:e.jsx(ee,{}),alt:n.name}),e.jsxs("div",{children:[e.jsx(Us,{level:5,className:"m-0",children:n.name}),e.jsxs(re,{type:"secondary",children:["Godine: ",n.age]})]})]})})}const Bs=()=>{const{id:s}=O(),{data:t,isLoading:n,isError:a}=Gs(s);return n?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(S,{tip:"Loading..."})}):a?e.jsx($,{message:"Error",description:"Došlo je do pogreške prilikom dohvaćanja igrača.",type:"error",className:"mb-4"}):e.jsxs("div",{className:"overflow-x-auto bg-gray-50 shadow-lg rounded-lg p-6 max-w-3xl mx-auto my-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Lista Igrača"}),e.jsx(P,{dataSource:t,renderItem:r=>e.jsx(P.Item,{className:"py-2",children:e.jsx(Vs,{playerId:r.personId,competitionId:s})}),style:{borderCollapse:"collapse"},className:"table-auto"})]})},Ys=(s,t)=>w({queryKey:["playerStats",s,t],queryFn:async()=>{if(!s||!t)return null;const n=await fetch(`http://localhost:8080/api/player/${s}/stats/${t}`,{headers:{accept:"application/json"}});if(!n.ok)throw new Error("Network response was not ok");return await n.json()},enabled:!!s&&!!t});function X({value:s}){const[t,n]=u.useState(0);return u.useEffect(()=>{const l=s/60;let i=0;const o=setInterval(()=>{i+=l,i>s?(clearInterval(o),n(s)):n(Math.floor(i))},1e3/60);return()=>clearInterval(o)},[s]),e.jsx("span",{children:t})}const{Text:Ws}=T;function Y({icon:s,title:t,value:n,color:a}){return e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[s,e.jsx(Ws,{className:"ml-2 font-semibold",children:t})]}),e.jsx("div",{className:`text-3xl font-bold text-${a}-600`,children:e.jsx(X,{value:n})})]})}const{Title:Hs,Text:M}=T,Qs=()=>{var x;const{playerId:s}=O(),n=(x=he().state)==null?void 0:x.competition,{data:a}=Te(s),{data:r,isLoading:l,isError:i}=Ys(s,n==null?void 0:n.id),{data:o}=v(a==null?void 0:a.picture),{data:d}=v(a==null?void 0:a.flag);if(l)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(S,{size:"large"})});if(i)return e.jsx("div",{className:"max-w-2xl mx-auto my-12 p-6",children:e.jsx($,{message:"Error",description:"Došlo je do pogreške prilikom dohvaćanja statistike igrača.",type:"error",showIcon:!0})});if(!r||r.length===0)return e.jsx("div",{className:"max-w-2xl mx-auto my-12 p-6",children:e.jsx($,{message:"No Stats",description:"Nema dostupnih statistika za ovog igrača.",type:"info",showIcon:!0})});const c=r.minutesPlayed/(r.matchesPlayed*90)*100;return e.jsxs("div",{className:"max-w-6xl mx-auto my-24 p-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl shadow-xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-12",children:[e.jsx("div",{className:"w-48 h-48 rounded-full overflow-hidden mb-6 md:mb-0 md:mr-12 border-4 border-white shadow-lg",children:o&&e.jsx("img",{src:o.image,alt:a==null?void 0:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx(Hs,{level:1,className:"mb-2 text-4xl font-bold text-gray-800",children:a==null?void 0:a.name}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start mb-4",children:[d&&e.jsx("img",{src:d.image,alt:a==null?void 0:a.nationality,className:"w-8 h-6 mr-3 shadow-sm"}),e.jsx(M,{className:"text-xl text-gray-600",children:a==null?void 0:a.nationality})]}),e.jsxs(M,{className:"text-lg text-gray-700 block mb-2",children:["Godine: ",a==null?void 0:a.age]}),e.jsxs(M,{className:"text-lg text-gray-700 block mb-4",children:[a==null?void 0:a.club.name,", ",a==null?void 0:a.club.place]}),e.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full",children:r.competition.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[e.jsx(Y,{icon:e.jsx(ee,{}),title:"Odigrane utakmice",value:r.matchesPlayed}),e.jsx(Y,{icon:e.jsx(be,{}),title:"Golovi",value:r.goals}),e.jsx(Y,{icon:e.jsx(q,{className:"text-yellow-500"}),title:"Žuti kartoni",value:r.yellowCards}),e.jsx(Y,{icon:e.jsx(q,{className:"text-red-500"}),title:"Crveni kartoni",value:r.redCards})]}),r.minutesPlayed&&e.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(M,{className:"text-lg font-semibold text-gray-700 mb-2 block",children:"Odigrane minute"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"text-blue-500 mr-3"}),e.jsx("div",{className:"flex-grow",children:e.jsx(Ve,{percent:Math.round(c),strokeColor:{"0%":"#108ee9","100%":"#87d068"}})})]}),e.jsxs(M,{className:"text-sm text-gray-500 mt-1 block",children:[e.jsx(X,{value:r.minutesPlayed})," min"]})]}),e.jsxs("div",{children:[e.jsx(M,{className:"text-lg font-semibold text-gray-700 mb-2 block",children:"Cijele odigrane utakmice"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"text-green-500 mr-3"}),e.jsx(M,{className:"text-3xl font-bold text-green-600",children:e.jsx(X,{value:r.fullMatchesPlayed})})]})]})]})})})]})};function _s(s){return w({queryKey:["matchInfo",s],queryFn:()=>fetch(`http://localhost:8080/api/match/${s}`,{method:"GET",headers:{Accept:"application/json"}}).then(t=>{if(!t.ok)throw new Error("Error fetching match info");return t.json()}),enabled:!!s})}function Js(s){return w({queryKey:["matchEvents",s],queryFn:()=>fetch(`http://localhost:8080/api/match/${s}/events`,{method:"GET",headers:{Accept:"application/json"}}).then(t=>{if(!t.ok)throw new Error("Error fetching match events");return t.json()}),enabled:!!s})}function Zs(s){return w({queryKey:["matchLineups",s],queryFn:()=>fetch(`http://localhost:8080/api/match/${s}/lineups`,{method:"GET",headers:{Accept:"application/json"}}).then(t=>{if(!t.ok)throw new Error("Error fetching match lineups");return t.json()}),enabled:!!s})}function Xs(s){return w({queryKey:["matchReferees",s],queryFn:()=>fetch(`http://localhost:8080/api/match/${s}/referees`,{method:"GET",headers:{Accept:"application/json"}}).then(t=>{if(!t.ok)throw new Error("Error fetching match referees");return t.json()}),enabled:!!s})}const le=({event:s,isMoslavacEvent:t,isOwnGoal:n,competition:a})=>{const{data:r}=v(s.player.picture),l=(o,d)=>d?`${o}+${d}`:`${o}'`,i=()=>t?e.jsx(b,{to:`/stats/${s.player.personId}`,state:{competition:a},className:"hover:underline",children:s.player.name}):s.player.name;return e.jsxs("div",{className:`w-auto flex items-center p-3 rounded-lg ${t?"bg-blue-100":"bg-gray-100"}`,children:[e.jsx(be,{className:`
                    ${n?"text-red-500":t?"text-blue-500":"text-gray-500"} 
                    ${t||n?"text-2xl":"text-xl"} 
                    mr-4
                `}),r&&t&&e.jsx("img",{src:r,alt:s.player.name,className:"w-12 h-12 rounded-full mr-4 object-cover"}),e.jsx("div",{children:e.jsxs("span",{className:`font-semibold ${t?"text-blue-600":"text-gray-600"}`,children:[i()," ",l(s.minuteFull,s.stoppageTime)]})})]})},et=({moslavacIsHome:s,matchEvents:t,competition:n})=>{const a=(l,i)=>i?`${l}+${i}`:`${l}'`,r=l=>{const i=s&&l.homeTeam||!s&&!l.homeTeam,o=i?"text-blue-600":"text-gray-600",d=f=>l.teamOfficial?f==null?void 0:f.name:i?e.jsx(b,{to:`/stats/${f==null?void 0:f.personId}`,state:{competition:n},className:"hover:underline",children:f==null?void 0:f.name}):f==null?void 0:f.name,c=(()=>{switch(l.eventType.fcdName){case"START":return l.matchPhase.fcdName==="FIRST_HALF"?e.jsx("span",{className:"font-bold",children:"POČETAK"}):null;case"END":return l.matchPhase.fcdName==="FIRST_HALF"?e.jsx("span",{className:"font-bold",children:"POLUVRIJEME"}):null;case"GOAL":case"PENALTY":return e.jsx(le,{event:l,isMoslavacEvent:i,isOwnGoal:!1,competition:n});case"OWN_GOAL":return e.jsx(le,{event:l,isMoslavacEvent:i,isOwnGoal:!0,competition:n});case"YELLOW":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"text-yellow-500"}),e.jsxs("span",{className:`font-semibold ${o}`,children:[d(l.player||l.teamOfficial)," ",a(l.minuteFull,l.stoppageTime)]})]});case"SECOND_YELLOW":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"text-yellow-500"}),e.jsx(q,{className:"text-red-500 absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4"})]}),e.jsxs("span",{className:o,children:[d(l.player||l.teamOfficial)," ",a(l.minuteFull,l.stoppageTime)]})]});case"RED":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"text-red-500"}),e.jsxs("span",{className:o,children:[d(l.player||l.teamOfficial)," ",a(l.minuteFull,l.stoppageTime)]})]});case"SUBSTITUTION":return e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-green-500"}),e.jsx("span",{className:`font-semibold ${o}`,children:d(l.player)})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:o,children:[d(l.player2)," ",a(l.minuteFull,l.stoppageTime)]})})]});case"FULL_TIME":return e.jsx("span",{className:"font-bold",children:"KRAJ"});default:return null}})();if(!c)return null;const x=l.homeTeam===void 0?"justify-center":l.homeTeam?"justify-start":"justify-end",j=l.homeTeam===void 0?"text-center":l.homeTeam?"text-left":"text-right";return e.jsx("div",{className:`w-full flex ${x} ${j}`,children:c})};return e.jsx("div",{className:"mb-8 w-full max-w-3xl mx-auto bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200",children:t.map((l,i)=>{const o=r(l);return o?e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-150",children:o},i):null})})})},st=({moslavacIsHome:s,homeTeam:t,awayTeam:n,competition:a,homeTeamImage:r,awayTeamImage:l})=>{const[i,o]=u.useState("home"),d=(x,j,f)=>{const g=s!==f,p=x.filter(m=>m.starting===j).sort((m,y)=>m.position==="G"?-1:y.position==="G"?1:0);return e.jsx("ul",{className:`space-y-2 ${f?"md:text-right":""}`,children:p.map(m=>e.jsx("li",{className:`flex items-center justify-center ${f?"md:justify-end":"md:justify-start"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold",children:m.shirtNumber}),g?e.jsx(b,{to:`/stats/${m.personId}`,state:{competition:a},className:"hover:underline",children:e.jsx("span",{children:m.name})}):e.jsx("span",{children:m.name}),m.captain&&e.jsx("span",{className:"text-gray-500 text-sm",children:"(C)"}),m.position==="G"&&e.jsx("span",{className:"text-gray-500 text-sm",children:"(GK)"})]})},m.personId))})},c=(x,j)=>e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 md:hidden",children:"Početna postava"}),d(x.players,!0,j),e.jsx(G,{plain:!0,children:e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-4 md:hidden",children:"Zamjene"})}),d(x.players,!1,j)]});return e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden mb-8 mx-auto max-w-4xl",children:[e.jsxs("div",{className:"hidden md:block p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 text-center",children:"Početna postava"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{className:"w-full",children:d(t.players,!0,!1)}),e.jsx("div",{className:"w-full",children:d(n.players,!0,!0)})]}),e.jsx(G,{plain:!0,children:e.jsx("h3",{className:"text-xl font-semibold mb-6 text-center",children:"Zamjene"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx("div",{className:"w-full",children:d(t.players,!1,!1)}),e.jsx("div",{className:"w-full",children:d(n.players,!1,!0)})]})]}),e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsxs("button",{className:`flex-1 py-4 px-6 text-center ${i==="home"?"bg-gray-100 font-semibold":""}`,onClick:()=>o("home"),children:[e.jsx("img",{src:r==null?void 0:r.image,alt:t.name,className:"w-12 h-12 mx-auto mb-2"}),e.jsx("span",{children:t.name})]}),e.jsxs("button",{className:`flex-1 py-4 px-6 text-center ${i==="away"?"bg-gray-100 font-semibold":""}`,onClick:()=>o("away"),children:[e.jsx("img",{src:l==null?void 0:l.image,alt:n.name,className:"w-12 h-12 mx-auto mb-2"}),e.jsx("span",{children:n.name})]})]}),e.jsx("div",{className:"p-6",children:i==="home"?c(t,!1):c(n,!0)})]})]})},tt=({moslavacIsHome:s,matchEvents:t,homeTeam:n,awayTeam:a,competition:r,homeTeamImage:l,awayTeamImage:i})=>{const[o,d]=u.useState("events");return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:" rounded-full p-1 flex justify-center mb-6",children:[e.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-l-lg border ${o==="events"?"bg-gray-200 text-gray-900":"bg-white text-gray-500 hover:bg-gray-100"}`,onClick:()=>d("events"),children:"Detalji"}),e.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-r-lg border-t border-b border-r ${o==="lineups"?"bg-gray-200 text-gray-900":"bg-white text-gray-500 hover:bg-gray-100"}`,onClick:()=>d("lineups"),children:"Postave"})]}),o==="events"?e.jsx(et,{moslavacIsHome:s,matchEvents:t,competition:r}):e.jsx(st,{moslavacIsHome:s,homeTeam:n,awayTeam:a,competition:r,homeTeamImage:l.image,awayTeamImage:i.image})]})};function at(){var p,m,y,k;const{matchId:s}=O(),[t,n]=u.useState(!1),{data:a}=_s(s),{data:r}=Js(s),{data:l}=Zs(s),{data:i}=Xs(s),o=v((p=a==null?void 0:a.homeTeam)==null?void 0:p.picture),d=v((m=a==null?void 0:a.awayTeam)==null?void 0:m.picture);if(u.useEffect(()=>{a&&n(a.homeTeam.name==="SNK Moslavac")},[a]),!a||!r||!l||!i)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})});const{homeTeam:c,awayTeam:x,dateTimeUTC:j,round:f,competition:g}=a;return e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[e.jsxs("div",{className:"bg-white shadow-xl rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 text-white p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium mb-2 sm:mb-0",children:new Date(j).toLocaleDateString()}),e.jsxs("span",{className:"text-xs sm:text-sm font-bold",children:["Kolo ",f]})]}),e.jsx(b,{to:`/season/${g.id}/${encodeURIComponent(g.name)}`,className:"block text-center",children:e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4",children:g.name})}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-between",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("img",{src:o.data,alt:c.name,className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-2 rounded-full bg-white p-1 sm:p-2"}),e.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:c.name})]}),e.jsxs("div",{className:"flex-shrink-0 text-2xl sm:text-4xl font-bold mx-4",children:[(y=a.homeTeamResult)==null?void 0:y.current," - ",(k=a.awayTeamResult)==null?void 0:k.current]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("img",{src:d.data,alt:x.name,className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-2 rounded-full bg-white p-1 sm:p-2"}),e.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:x.name})]})]})]}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col gap-2",children:i.matchOfficials.filter(h=>h.role!=="Delegat").map((h,N)=>e.jsxs("div",{className:"bg-gray-100 rounded-lg p-2 sm:p-3 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-sm sm:text-base",children:h.name}),e.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:h.role})]},N))})})]}),e.jsx("div",{children:e.jsx(tt,{moslavacIsHome:t,matchEvents:r,homeTeam:l.home,awayTeam:l.away,competition:a.competition,homeTeamImage:o,awayTeamImage:d})})]})}function nt(){const s=u.useRef(null),{data:t,error:n,isLoading:a}=w({queryKey:["latestNews"],queryFn:()=>fetch("http://localhost:8080/api/news/latest").then(r=>r.json())});return a?e.jsx(S,{tip:"Loading...",className:"flex justify-center items-center h-64"}):n?e.jsx($,{message:"Error",description:n.message,type:"error",className:"max-w-6xl mx-auto mt-8"}):!t||t.length===0?e.jsx($,{message:"No News Available",type:"info",className:"max-w-6xl mx-auto mt-8"}):e.jsx("div",{className:"relative w-full max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden ",children:e.jsx(ye,{ref:s,autoplay:!0,dotPosition:"bottom",className:"overflow-hidden",children:t.map(r=>e.jsx("div",{className:"h-[28rem] sm:h-[32rem] md:h-[36rem] lg:h-[40rem]",children:e.jsxs("div",{className:"relative h-full group",children:[e.jsx("img",{src:r.thumbnailPath,alt:r.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent opacity-70"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 sm:p-8 md:p-10 lg:p-12 flex flex-col justify-end h-full",children:[e.jsx("h2",{className:"text-white text-2xl sm:text-3xl md:text-4xl font-bold mb-4 line-clamp-3 leading-tight",children:r.title}),e.jsx(b,{to:`/news/${r.newsID}`,className:"self-start mt-4 group inline-flex items-center",children:e.jsx("span",{className:"text-white bg-blue-600 px-6 py-3 rounded-full font-semibold text-sm sm:text-base transition duration-300 ease-in-out group-hover:bg-blue-700 shadow-lg group-hover:shadow-blue-500/50",children:"PROČITAJ"})})]})]})},r.id))})})}function rt(){return w({queryKey:["nextMatch"],queryFn:async()=>{const s=await fetch("http://localhost:8080/api/senior-competition/next-match",{method:"GET",headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Failed to fetch next match");return await s.json()}})}function lt(){return w({queryKey:["previousMatch"],queryFn:async()=>{const s=await fetch("http://localhost:8080/api/senior-competition/previous-match",{method:"GET",headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Failed to fetch previous match");const t=await s.json();if(!t)throw new Error("No previous match found");return t}})}const Se=({targetDate:s,homeScore:t,awayScore:n})=>{const a=()=>{const o=+new Date(s)-+new Date;let d={};return o>0&&(d={d:Math.floor(o/864e5),h:Math.floor(o/36e5%24),m:Math.floor(o/1e3/60%60),s:Math.floor(o/1e3%60)}),d},[r,l]=u.useState(a());u.useEffect(()=>{const o=setTimeout(()=>{l(a())},1e3);return()=>clearTimeout(o)});const i=[];return Object.keys(r).forEach(o=>{r[o]&&i.push(e.jsxs("span",{children:[r[o]," ",o," "]},o))}),e.jsx("div",{children:i.length?i:e.jsxs("span",{children:[t," - ",n]})})};function ie({match:s,homeTeam:t,awayTeam:n,date:a,location:r,homeScore:l,awayScore:i,liveStatus:o}){const{data:d}=v(t.picture),{data:c}=v(n.picture),j=(f=>{if(!f)return{date:"N/A",time:"N/A"};const g=new Date(f);return{date:g.toLocaleDateString(),time:g.toLocaleTimeString()}})(a);return e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 rounded-3xl p-4 sm:p-6 text-center w-full max-w-[28rem] mx-auto shadow-lg transition-all duration-300 hover:shadow-xl hover:border-gray-300 flex flex-col justify-between min-h-[400px]",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-800 flex items-center justify-center gap-2",children:[s==="Današnja utakmica"&&e.jsx(We,{style:{color:"#FF3B30",fontSize:"1.25rem"}}),s]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex flex-col items-center w-2/5",children:[e.jsx("div",{className:"bg-white p-2 rounded-full shadow-md mb-2",children:e.jsx("img",{src:d,alt:`${t.name} logo`,className:"h-12 w-12 sm:h-16 sm:w-16"})}),e.jsx("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm text-center line-clamp-2",children:t.name})]}),e.jsx("div",{className:"flex-shrink-0 text-gray-400 font-bold text-xl sm:text-2xl",children:"VS"}),e.jsxs("div",{className:"flex flex-col items-center w-2/5",children:[e.jsx("div",{className:"bg-white p-2 rounded-full shadow-md mb-2",children:e.jsx("img",{src:c,alt:`${n.name} logo`,className:"h-12 w-12 sm:h-16 sm:w-16"})}),e.jsx("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm text-center line-clamp-2",children:n.name})]})]}),e.jsxs("div",{className:"mb-4 text-gray-600",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base",children:j.date}),e.jsx("p",{className:"text-xs sm:text-sm mt-1",children:j.time}),e.jsx("p",{className:"text-xs mt-2 text-gray-500",children:r})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 py-2 px-4 rounded-full text-base sm:text-lg font-bold text-white shadow-md",children:e.jsx(Se,{targetDate:a,homeScore:l,awayScore:i})})]})}function it(){var x,j,f,g;const{data:s,error:t,isLoading:n}=rt(),{data:a,error:r,isLoading:l}=lt();if(n||l)return e.jsx("div",{className:"text-center py-8",children:"Loading..."});if(t||r)return e.jsx("div",{className:"text-center py-8 text-red-500",children:"Error loading matches"});const i=s&&Object.keys(s).length>0,o=a&&Object.keys(a).length>0,d=a!=null&&a.dateTimeUTC&&new Date(a.dateTimeUTC).toDateString()===new Date().toDateString()?"Današnja utakmica":"Prethodna utakmica",c=[o,i].filter(Boolean).length;return e.jsxs("div",{className:`flex ${c===1?"justify-center":"justify-between"} flex-col md:flex-row gap-8 w-full max-w-5xl mx-auto px-4`,children:[o&&e.jsx(b,{to:`/matches/${a.id}`,className:"w-full md:w-1/2",children:e.jsx(ie,{match:d,homeTeam:a.homeTeam||{name:"N/A",picture:""},awayTeam:a.awayTeam||{name:"N/A",picture:""},date:a.dateTimeUTC?new Date(a.dateTimeUTC):new Date,location:((x=a.facility)==null?void 0:x.place)||"N/A",homeScore:((j=a.homeTeamResult)==null?void 0:j.current)||0,awayScore:((f=a.awayTeamResult)==null?void 0:f.current)||0,liveStatus:a.liveStatus||"SCHEDULED"})}),i&&e.jsx(b,{to:`/matches/${s.id}`,className:"w-full md:w-1/2",children:e.jsx(ie,{match:"Sljedeća utakmica",homeTeam:s.homeTeam||{name:"N/A",picture:""},awayTeam:s.awayTeam||{name:"N/A",picture:""},date:s.dateTimeUTC?new Date(s.dateTimeUTC):new Date,location:((g=s.facility)==null?void 0:g.place)||"N/A",homeScore:null,awayScore:null,liveStatus:s.liveStatus||"SCHEDULED"})})]})}const ot="/assets/Jakna-Rda6HDRD.jpg",ct="/assets/Hoody-DK3qa9TX.jpg",dt="/assets/Polo-majica-CEe_6BD3.jpg",mt="/assets/Calcio-trenirka-1-BSnRNG47.jpg",xt="/assets/Screenshot_2-DZyt50sw.png",ht="/assets/Screenshot_1-CyIioMWD.png",ut=[{id:1,image:ht,text:"Domaći dres"},{id:2,image:xt,text:"Gostujući dres"},{id:3,image:mt,text:"Trenirka"},{id:4,image:ot,text:"Jakna"},{id:5,image:ct,text:"Duksa"},{id:6,image:dt,text:"Polo Majica"}];function ft(){const s=He.useRef(null);return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:py-16 rounded-3xl bg-gradient-to-br from-gray-50 to-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mb-8 sm:mb-12 text-gray-900",children:"WebShop"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{ref:s,slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}}],className:"[-webkit-tap-highlight-color:transparent]",children:ut.map(t=>e.jsx("div",{className:"px-2 sm:px-4 py-8",children:e.jsxs("div",{className:"bg-white w-full max-w-[280px] h-[420px] mx-auto rounded-2xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105",children:[e.jsxs("div",{className:"relative w-full h-[280px] overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.text,className:"w-full h-full object-cover transition duration-300 ease-in-out"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-900 font-semibold py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Detalji"})})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.text}),e.jsxs("button",{className:"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center justify-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2"}),"Kupi odmah"]})]})]})},t.id))}),e.jsx("button",{className:"absolute top-1/2 -left-4 sm:left-0 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full p-2 sm:p-3 shadow-md focus:outline-none transition duration-300 ease-in-out",onClick:()=>{var t;return(t=s.current)==null?void 0:t.prev()},"aria-label":"Previous slide",children:e.jsx(_e,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-800"})}),e.jsx("button",{className:"absolute top-1/2 -right-4 sm:right-0 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full p-2 sm:p-3 shadow-md focus:outline-none transition duration-300 ease-in-out",onClick:()=>{var t;return(t=s.current)==null?void 0:t.next()},"aria-label":"Next slide",children:e.jsx(fe,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-800"})})]})]})}const pt="/assets/fans-BFfyxwmN.jpg",{Title:jt,Text:gt}=T;function bt(){return e.jsx(L,{className:"max-w-4xl mx-auto overflow-hidden border-none rounded-3xl shadow-xl transition-all duration-300 hover:shadow-2xl hover:border-gray-300",bodyStyle:{padding:0},children:e.jsxs(Ne,{className:"flex flex-wrap",children:[e.jsx(Z,{xs:24,md:12,className:"w-full md:w-1/2",children:e.jsx("img",{src:pt,alt:"SNK Moslavac navijači",className:"w-full h-64 md:h-full object-cover"})}),e.jsx(Z,{xs:24,md:12,className:"w-full md:w-1/2",children:e.jsxs(Je,{direction:"vertical",size:"large",className:"w-full p-6 sm:p-12",children:[e.jsx(jt,{level:2,className:"text-gray-900 text-2xl sm:text-3xl font-bold",children:"Postani naš 12. igrač!"}),e.jsx(gt,{strong:!0,className:"text-lg sm:text-xl text-gray-700",children:"Članska iskaznica za sezonu 2024/2025"}),e.jsxs(b,{to:"/season-ticket-purchase",className:"bg-blue-600 border-blue-600 px-3 rounded-lg font-semibold h-12 sm:h-14 text-lg sm:text-xl hover:bg-blue-700 inline-flex items-center justify-center border-2 text-white w-full sm:w-auto",children:[e.jsx(Ze,{className:"mr-2"}),"Kupi iskaznicu"]})]})})]})})}const wt=({match:s})=>{const{homeTeam:t,awayTeam:n,dateTimeUTC:a,competition:r}=s,l=new Date(a),i=v(t==null?void 0:t.picture),o=v(n==null?void 0:n.picture);return e.jsx("div",{className:"rounded-3xl bg-white shadow-lg overflow-hidden transition-all duration-300 ease-in-out border border-gray-100 w-[300px] h-[420px] flex flex-col",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex flex-col p-6 h-full",children:[e.jsx("span",{className:"sm:text-sm text-xs px-4 py-1 w-auto mx-auto mb-4 font-semibold text-blue-600 bg-blue-50 rounded-full truncate overflow-hidden text-ellipsis text-center max-w-[14rem] sm:max-w-[16rem] whitespace-nowrap",children:e.jsx(b,{to:`/season/${r==null?void 0:r.id}/${encodeURIComponent(r==null?void 0:r.name)}`,className:"hover:underline",children:r==null?void 0:r.name})}),e.jsxs("div",{className:"flex items-center justify-center flex-1 mb-4",children:[e.jsxs("div",{className:"flex-1 text-center flex flex-col items-center",children:[e.jsx("img",{src:i.data||"/placeholder.svg",alt:`${t.name} logo`,className:"h-16 w-16 mb-2"}),e.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-sm break-words text-center max-w-[6rem] line-clamp-2",children:t.name})]}),e.jsx("div",{className:"flex-shrink-0 mx-4 text-gray-400 font-bold text-lg sm:text-xl flex items-center justify-center h-16",children:"VS"}),e.jsxs("div",{className:"flex-1 text-center flex flex-col items-center",children:[e.jsx("img",{src:(o==null?void 0:o.data)||"/placeholder.svg",alt:`${n.name} logo`,className:"h-16 w-16 mb-2"}),e.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-sm break-words text-center max-w-[6rem] line-clamp-2",children:n.name})]})]})]}),e.jsxs("div",{className:"flex flex-col bg-gradient-to-r from-blue-400 to-blue-600 p-6 rounded-t-3xl",children:[e.jsxs("div",{className:"flex flex-col justify-between w-auto mx-auto text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Xe,{className:"mr-2 text-white"}),e.jsx("span",{className:"text-white",children:l.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"mr-2 text-white"}),e.jsx("span",{className:"text-white",children:l.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsx("div",{className:"py-2 px-4 font-semibold bg-gray-100 rounded-2xl text-gray-800 border border-gray-100 flex items-center justify-center text-center",children:e.jsx(Se,{targetDate:a,homeScore:0,awayScore:0})})})]})]})})},yt=()=>{const{data:s,isLoading:t,error:n}=ke(),a=u.useRef(null),[r,l]=u.useState(!1),[i,o]=u.useState(!1),d=()=>{if(a.current){const{scrollLeft:c,scrollWidth:x,clientWidth:j}=a.current;l(c>0),o(c<x-j-1)}};return u.useEffect(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)),[s]),t?e.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):n?e.jsx("div",{className:"text-red-500",children:"Error loading matches"}):!s||s.length===0?e.jsx("div",{className:"text-center text-gray-500 p-4",children:"No upcoming matches"}):e.jsxs("div",{className:"relative max-w-full mx-auto px-4 py-12 bg-gray-100",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Nadolazeće utakmice"}),e.jsx("div",{className:"relative overflow-hidden",children:e.jsx("div",{ref:a,className:"flex space-x-10 overflow-x-auto snap-x snap-mandatory",style:{scrollSnapType:"x mandatory",scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:d,children:s.map(c=>e.jsx("div",{className:"flex-shrink-0 w-[300px] snap-start",style:{overflow:"hidden"},children:e.jsx(wt,{match:c})},c.id))})})]})},{Title:oe,Text:Nt}=T,vt=()=>{const{data:s,error:t,isLoading:n}=w({queryKey:["latestNews"],queryFn:async()=>{const a=await fetch("http://localhost:8080/api/news/latest");if(!a.ok)throw new Error("Failed to fetch news");return a.json()}});return t?e.jsx(Nt,{type:"danger",children:"Error fetching news"}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx(oe,{level:2,className:"text-3xl font-bold mb-8 text-center",children:"Vijesti"}),n?e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{size:"large"})}):e.jsx(Ne,{gutter:[24,24],children:s==null?void 0:s.map(a=>e.jsx(Z,{xs:24,sm:12,lg:8,children:e.jsxs(L,{hoverable:!0,className:"h-full  transition-shadow duration-300 ease-in-out hover:shadow-2xl  rounded-3xl shadow-xl",cover:e.jsx("div",{className:"relative h-48",children:e.jsx("img",{src:a.thumbnailPath||"/placeholder.svg",alt:a.title,className:"w-full h-full object-cover rounded-t-lg"})}),children:[e.jsx(oe,{level:4,className:"mb-2 line-clamp-2 text-gray-900 h-16",children:a.title}),e.jsx(b,{to:`/news/${a.newsID}`,className:"self-start mt-3",children:e.jsx("span",{className:"text-white bg-blue-600 px-4 py-2 rounded-md font-medium text-sm md:text-base hover:bg-blue-700 transition duration-200 ease-in-out shadow-lg hover:shadow-2xl",children:"PROČITAJ"})})]})},a.newsID))})]})},R=({children:s,className:t})=>{const n=es(),[a,r]=ss({triggerOnce:!0,threshold:.1});return u.useEffect(()=>{r&&n.start("visible")},[n,r]),e.jsx(z.div,{ref:a,animate:n,initial:"hidden",variants:{visible:{opacity:1,y:0},hidden:{opacity:0,y:50}},transition:{duration:.5,ease:"easeOut"},className:t,children:s})};function kt(){return e.jsxs("div",{className:"py-6 space-y-8 sm:space-y-12 md:space-y-16",children:[e.jsx(R,{children:e.jsx(nt,{})}),e.jsx(R,{className:"bg-gray-100 p-6 sm:p-8 md:p-10 rounded-lg border border-gray-200",children:e.jsx(it,{})}),e.jsx(R,{children:e.jsx(vt,{})}),e.jsx(R,{className:"bg-gray-100 p-6 sm:p-8 md:p-10 rounded-lg border border-gray-200",children:e.jsx(yt,{})}),e.jsx(R,{children:e.jsx(bt,{})}),e.jsx(R,{children:e.jsx(ft,{})})]})}function Tt(){const s=Q();return{subscribe:V({mutationFn:async n=>{const a=await fetch(`http://localhost:8080/api/newsletter/subscribe?email=${encodeURIComponent(n)}`,{method:"POST"});if(!a.ok)throw new Error("Pretplata nije uspjela");return a.json()},onSuccess:()=>{alert("Uspješno ste se pretplatili na newsletter."),s.invalidateQueries(["subscribers"])},onError:n=>{alert(n.message)}}).mutate}}function St({isOpen:s=!1,onClose:t=()=>{}}){const[n]=D.useForm(),{subscribe:a}=Tt(),r=l=>{a(l.email,{onSuccess:()=>{E.success("Uspješno ste se pretplatili na newsletter."),n.resetFields(),t()},onError:i=>{E.error(i.message||"Došlo je do greške prilikom pretplate.")}})};return e.jsxs(H,{title:"Pretplatite se na naš newsletter!",open:s,onCancel:t,footer:null,closeIcon:e.jsx(ts,{}),children:[e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:"/placeholder.svg?height=192&width=384",alt:"Nogometna akcija",className:"w-full h-48 object-cover rounded"})}),e.jsx("p",{className:"mb-4",children:"Budite u toku s najnovijim vijestima našeg kluba."}),e.jsxs(D,{form:n,onFinish:r,layout:"vertical",children:[e.jsx(D.Item,{name:"email",rules:[{required:!0,message:"Molimo unesite vašu email adresu"},{type:"email",message:"Molimo unesite ispravnu email adresu"}],children:e.jsx(K,{placeholder:"Unesite vašu email adresu"})}),e.jsx(D.Item,{children:e.jsx(C,{type:"primary",htmlType:"submit",block:!0,children:"Pretplatite se"})})]})]})}const It=s=>w({queryKey:["playerSearch",s],queryFn:async()=>{if(!s||s.trim()==="")return[];const t=await fetch(`http://localhost:8080/api/player/search?keyword=${encodeURIComponent(s)}`,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s.length>0}),Ct=({player:s,onAdd:t})=>{var a;const{data:n}=v(s.picture);return e.jsx(P.Item,{actions:[e.jsx(C,{onClick:()=>t(s),children:"Add"})],children:e.jsx(P.Item.Meta,{avatar:e.jsx(ge,{src:n||s.picture}),title:s.name,description:`${s.shortName} - Age: ${s.age}, Nationality: ${s.nationality}, Klub: ${(a=s==null?void 0:s.club)==null?void 0:a.name}`})})};function $t(){return w({queryKey:["seniorCompetition"],queryFn:async()=>{const s=await fetch("http://localhost:8080/api/competition/senior",{headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function Et(){const[s,t]=u.useState([]),[n,a]=u.useState(""),[r,l]=u.useState(!1),[i,o]=u.useState(""),{data:d}=$t(),{data:c,isLoading:x}=It(n);u.useEffect(()=>{const m=localStorage.getItem("players");m&&t(JSON.parse(m))},[]),u.useEffect(()=>{s.length>0&&localStorage.setItem("players",JSON.stringify(s))},[s]);const j=m=>{const y=[...s,{...m,position:i}];t(y),l(!1),a("")},f=m=>{const y=s.filter(k=>k.personId!==m);t(y)},g=({player:m})=>{const{data:y}=v(m.picture);return e.jsxs("div",{className:"w-36 m-2 bg-white rounded-lg shadow-lg overflow-hidden transition transform hover:scale-105",children:[e.jsx(b,{to:`/stats/${m.personId}`,state:{competition:d},children:e.jsx("div",{className:"relative h-36 bg-gray-200",children:y?e.jsx("img",{src:y,alt:m.shortName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(ee,{className:"text-4xl text-gray-400"})})})}),e.jsxs("div",{className:"p-2 text-center",children:[e.jsx(b,{to:`/stats/${m.personId}`,className:"text-sm font-semibold text-gray-800",children:m.shortName}),e.jsx("br",{}),e.jsx(je,{className:"text-red-500 cursor-pointer mt-2",onClick:()=>f(m.personId)})]})]})},p=(m,y)=>e.jsxs("div",{className:"my-4",children:[e.jsx(G,{orientation:"left",className:"text-lg font-semibold",children:m}),e.jsxs("div",{className:"flex flex-wrap",children:[s.filter(k=>k.position===y).map(k=>e.jsx(g,{player:k},k.personId)),e.jsxs("div",{onClick:()=>{o(y),l(!0)},className:"w-36 h-56 m-2 flex flex-col items-center justify-center bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-200 transition",children:[e.jsx(pe,{className:"text-2xl text-gray-400"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Add ",m]})]})]})]},y);return e.jsxs("div",{className:"p-6 md:w-[70%] mx-auto rounded-3xl shadow-lg bg-gray-50 md:my-36",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"First Team"}),p("Vratar","goalkeeper"),p("Branič","defender"),p("Vezni","midfielder"),p("Napradač","attacker"),e.jsxs(H,{title:"Add Player",visible:r,onCancel:()=>l(!1),footer:null,children:[e.jsx(K,{placeholder:"Search for a player",value:n,onChange:m=>a(m.target.value),className:"mb-4"}),e.jsx(P,{loading:x,itemLayout:"horizontal",dataSource:(c==null?void 0:c.result)||[],renderItem:m=>e.jsx(Ct,{player:m,onAdd:j})})]})]})}function Pt(){return e.jsx("footer",{className:"bg-gray-100 text-primary-foreground mt-10",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"flex flex-col items-center mb-12 space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:ve,alt:"Club Crest",className:"w-[150px] h-[150px] z-10 relative transition-transform duration-300 ease-in-out group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full filter blur-md transform scale-110 group-hover:scale-125 transition-transform duration-300"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-4xl font-bold text-accent mb-2 font-serif italic tracking-wide",children:"Ovdje nitko nije normalan"}),e.jsx("div",{className:"h-1 w-20 bg-accent mx-auto rounded-full transition-all duration-500 ease-in-out hover:w-32"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"transition-all duration-300 ease-in-out hover:translate-y-[-5px]",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-accent",children:"Klub"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(b,{to:"/ulaznice",className:"hover:text-accent transition-colors",children:"Ulaznice"})}),e.jsx("li",{children:e.jsx(b,{to:"/clanstvo",className:"hover:text-accent transition-colors",children:"Službene osobe"})}),e.jsx("li",{children:e.jsx(b,{to:"/navijacka-zona",className:"hover:text-accent transition-colors",children:"Treneri"})}),e.jsx("li",{children:e.jsx(b,{to:"/fan-shop",className:"hover:text-accent transition-colors",children:"Webshop"})})]})]}),e.jsxs("div",{className:"transition-all duration-300 ease-in-out hover:translate-y-[-5px]",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-accent",children:"Kontakt"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(as,{className:"mr-2 text-accent"}),e.jsx("a",{href:"mailto:snkmoslavac@gmail.com",className:"hover:text-accent transition-colors",children:"snkmoslavac@gmail.com"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(ns,{className:"mr-2 text-accent"}),e.jsx("a",{href:"tel:+38512345678",className:"hover:text-accent transition-colors",children:"+385 1 234 5678"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(rs,{className:"mr-2 text-accent"}),e.jsx("address",{children:"Trg Grofa Erdodyja b. b. 44317 Popovača"})]})]})]}),e.jsxs("div",{className:"transition-all duration-300 ease-in-out hover:translate-y-[-5px]",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-accent",children:"Obavijesti"}),e.jsx("p",{className:"mb-4",children:"Budite u toku s najnovijim vijestima i obavijestima"}),e.jsxs("form",{className:"space-y-2",children:[e.jsx(K,{placeholder:"Vaša email adresa",className:"bg-primary-foreground text-primary border-accent focus:border-accent hover:border-accent"}),e.jsx(C,{type:"primary",className:"w-full mt-2 bg-accent hover:bg-accent-dark border-none transition-colors duration-300",children:"Potvrdi"})]})]})]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-primary-foreground/20",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-center md:text-left text-sm",children:["© ",new Date().getFullYear()," SNK Moslavac. Sva prava pridržana. Dizajn i razvoj web stranice: Adriano Faletar"]}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx("a",{href:"https://www.facebook.com/SNKMoslavacPopovaca","aria-label":"Facebook",className:"text-primary-foreground hover:text-accent transition-colors duration-300",children:e.jsx(de,{className:"text-2xl hover:scale-110 transition-transform duration-300"})}),e.jsx("a",{href:"https://www.youtube.com/@SNKMoslavacPopovaca","aria-label":"YouTube",className:"text-primary-foreground hover:text-accent transition-colors duration-300",children:e.jsx(me,{className:"text-2xl hover:scale-110 transition-transform duration-300"})})]})]})})]})})}const Dt="/assets/uplatnica-okV-iNdP.png",{Title:ce,Paragraph:W}=T;function Mt(){return e.jsx("div",{className:"max-w-3xl mx-auto p-4 sm:p-6 rounded-3xl shadow-xl bg-gray-50 my-8 sm:my-20",children:e.jsxs(L,{className:"bg-gray-50 border-none",children:[e.jsx(ce,{level:2,className:"text-center text-xl sm:text-2xl",children:"Postani naš 12. igrač!"}),e.jsx(W,{className:"text-base sm:text-lg",children:"Napravili smo članske iskaznice za narednu sezonu. Cijena članske iskaznice je 30 eura te se može kupiti uplatom na račun od SNK Moslavca. Također, članske iskaznice će se moći kupiti na tribini na svakoj domaćoj utakmici."}),e.jsx(W,{className:"text-base sm:text-lg",children:"Svi zainteresirani za kupnju članske iskaznice neka se jave u inbox stranice ili nekom od članova uprave."}),e.jsx(W,{strong:!0,className:"text-base sm:text-lg",children:"Napomena: Godišnja ulaznica vrijedi za domaće utakmice u 4. NL Središte B, kup utakmice i europske utakmice od 1.8.2024. do 31.7.2025."}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx(ce,{level:3,className:"text-lg sm:text-xl",children:"Podaci za uplatu:"}),e.jsxs(W,{className:"text-base sm:text-lg",children:["IBAN: HR7023400091100077909",e.jsx("br",{}),"Primatelj: SNK Moslavac Kutinska 10 44317 Popovača",e.jsx("br",{}),"Iznos: 30 EUR",e.jsx("br",{}),"Opis plaćanja: Članarica 2024-25 - [Vaše ime i prezime]"]})]}),e.jsx("div",{className:"mt-4 sm:mt-6",children:e.jsx(J,{src:Dt,alt:"Uplatnica",className:"w-full h-auto max-w-md mx-auto object-contain"})})]})})}const Lt={apiKey:"AIzaSyC8g2Z8VdVPxXffDUNMIY6-r2hLmWSR-YE",authDomain:"moslavac-9d4c8.firebaseapp.com",projectId:"moslavac-9d4c8",storageBucket:"moslavac-9d4c8.firebasestorage.app",messagingSenderId:"150038206448",appId:"1:150038206448:web:5fb794aa744f69bf0d2f35",measurementId:"G-9VGHLHQFC2"},At=ls(Lt),Ie=is(At),Ft=async()=>{const s=await Notification.requestPermission();if(console.log(s),s==="granted"){const t=await os(Ie,{vapidKey:"BKVKwZRCWn0Vc-I5iWVbdcyz7ehFV8eqPf1ZAUDC-kUwqV61x-Qs5pgG4PDV15BYXKZK3Q1Y18RvQQSdzjChqwE"});console.log(t)}};function Rt(){const[s,t]=u.useState(!1);return u.useEffect(()=>{if(!sessionStorage.getItem("isModalShown")){const r=setTimeout(()=>{t(!0),sessionStorage.setItem("isModalShown","true")},5e3);return()=>clearTimeout(r)}const a=Ft();a&&localStorage.setItem("firebaseToken",a),cs(Ie,r=>{console.log(r)})},[]),e.jsxs(ds,{children:[e.jsx(js,{}),e.jsxs(ms,{children:[e.jsx(I,{path:"/",element:e.jsx(kt,{})}),e.jsx(I,{path:"/matches",element:e.jsx(ys,{})}),e.jsx(I,{path:"/season/:competitionId/:competitionName",element:e.jsx(Os,{})}),e.jsx(I,{path:"/players/:id",element:e.jsx(Bs,{})}),e.jsx(I,{path:"/stats/:playerId",element:e.jsx(Qs,{})}),e.jsx(I,{path:"/news",element:e.jsx(ae,{})}),e.jsx(I,{path:"/news/admin",element:e.jsx(ae,{})}),e.jsx(I,{path:"/news/:id",element:e.jsx(Ts,{})}),e.jsx(I,{path:"/admin/manage-news",element:e.jsx(Ms,{})}),e.jsx(I,{path:"/matches/:matchId",element:e.jsx(at,{})}),e.jsx(I,{path:"/first-team",element:e.jsx(Et,{})}),e.jsx(I,{path:"/season-ticket-purchase",element:e.jsx(Mt,{})})]}),e.jsx(St,{isOpen:s,onClose:()=>t(!1)}),e.jsx(Pt,{})]})}const zt=new xs;hs(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(us,{client:zt,children:e.jsx(Rt,{})})}));
