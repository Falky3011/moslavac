import{a as Ue,u as g,r as x,j as e,M as R,S,L as y,B as I,R as Oe,b as ke,c as oe,D as Ge,d as Te,e as Ve,f as Be,m as Ye,h as W,g as ae,v as _,i as We,C as He,k as F,s as v,l as ce,n as de,I as ne,A as C,o as L,p as B,q as Se,t as Ce,P as Qe,T as k,w as H,x as ie,y as _e,z as Y,E as Je,F as Q,G as Ze,H as Xe,J as es,K as Pe,N as q,U as xe,O as te,Q as $e,V as ss,W as Ie,X as me,Y as De,Z as K,_ as Le,$ as ts,a0 as as,a1 as ns,a2 as Me,a3 as rs,a4 as is,a5 as ls,a6 as os,a7 as N,a8 as cs,a9 as ue,aa as ds,ab as ms,ac as xs,ad as us,ae as hs,af as fs,ag as js,ah as ps,ai as gs,aj as O,ak as bs,al as ys,am as ws,an as Ns,ao as vs,ap as ks,aq as w,ar as Ts,as as Ss,at as Cs}from"./vendor-CTCcR7hZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const f=Ue.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});function Ps(){return g({queryKey:["currentSeasonCompetitions"],queryFn:async()=>{const s=await f.get("/api/current-season-competitions"),t=new Date().getFullYear()%100,r=(t+1)%100,a=new RegExp(`\\b${t}/${r}\\b`);return s.data.filter(n=>a.test(n.name)&&!/\bkup\b/i.test(n.name))}})}const E="/assets/grb-DHVTbTm6.png",{Header:$s}=Te;function Is(){const[s,t]=x.useState(!1),[r,a]=x.useState(window.innerWidth<=768),{data:n,isLoading:i}=Ps(),l=x.useRef(null);x.useEffect(()=>{const c=()=>{a(window.innerWidth<=768),window.innerWidth>768&&t(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const o=e.jsx(R,{children:i?e.jsxs(R.Item,{disabled:!0,children:[e.jsx(S,{size:"small"})," Učitavanje natjecanja..."]},"loading"):n==null?void 0:n.map(c=>e.jsx(R.Item,{children:e.jsx(y,{to:`/season/${c.id}/${encodeURIComponent(c.name)}`,onClick:()=>t(!1),children:c.name})},c.id))}),d=[{key:"news",label:"Vijesti",to:"/news"},{key:"season",label:e.jsx(Ve,{overlay:o,trigger:["click"],children:e.jsxs("span",{className:"flex items-center cursor-pointer",children:["Sezona ",e.jsx(Be,{className:"ml-1"})]})})},{key:"matches",label:"Utakmice",to:"/matches"},{key:"first-team",label:"Momčad",to:"/first-team"},{key:"webshop",label:"Webshop",to:"https://alpashrvatska.hr/snk-moslavac-popovaca/"}],m=()=>d.map(c=>e.jsx(R.Item,{children:c.to?e.jsx(y,{to:c.to,onClick:()=>t(!1),children:c.label}):c.label},c.key));return e.jsx("div",{ref:l,className:"sticky top-0 z-50 w-full",children:e.jsxs($s,{className:"h-full bg-white border-b border-gray-300 shadow-md px-4 py-2",children:[e.jsxs("div",{className:"max-w-screen-xl mx-auto flex items-center h-full",children:[r&&e.jsx(I,{type:"text",icon:e.jsx(Oe,{style:{fontSize:"20px"}}),onClick:()=>t(!0),className:"absolute left-4"}),e.jsx(y,{to:"/",className:`flex items-center ${r?"mx-auto":"mr-8 ml-36"}`,children:e.jsx("img",{src:E,alt:"Klub Grb",style:{height:r?48:80}})}),!r&&e.jsxs("div",{className:"flex-grow flex justify-between items-center",children:[e.jsx(R,{mode:"horizontal",className:"border-0",children:m()}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("a",{href:"https://www.facebook.com/SNKMoslavacPopovaca","aria-label":"Facebook",className:"text-primary-foreground hover:text-accent",children:e.jsx(ke,{className:"text-2xl"})}),e.jsx("a",{href:"https://www.youtube.com/@SNKMoslavacPopovaca","aria-label":"YouTube",className:"text-primary-foreground hover:text-accent",children:e.jsx(oe,{className:"text-2xl"})})]})]})]}),e.jsx(Ge,{title:"Menu",placement:"left",onClose:()=>t(!1),visible:s,bodyStyle:{padding:0},children:e.jsx(R,{mode:"vertical",className:"border-0",children:m()})})]})})}const Ds=async()=>(await f.get("/api/matches")).data,Ls=()=>g({queryKey:["allMatches"],queryFn:Ds}),Ms=Ye(W);W.locale("hr");W.updateLocale("hr",{week:{dow:1}});const As={date:"Datum",time:"Vrijeme",event:"Događaj",allDay:"Cijeli dan",week:"Tjedan",work_week:"Radni tjedan",day:"Dan",month:"Mjesec",previous:"Prethodni",next:"Sljedeći",yesterday:"Jučer",tomorrow:"Sutra",today:"Danas",agenda:"Agenda",noEventsInRange:"Nema događaja u ovom razdoblju.",showMore:s=>`+ Prikaži još ${s}`};function Fs(){const s=ae(),{data:t,error:r,isLoading:a}=Ls(),[n,i]=x.useState(window.innerWidth<768?_.DAY:_.MONTH);if(x.useEffect(()=>{const o=()=>{const d=window.innerWidth<768?_.DAY:_.MONTH;i(d)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),a)return e.jsx("div",{children:"Učitavanje..."});if(r)return e.jsx("div",{children:"Greška pri učitavanju utakmica"});const l=t==null?void 0:t.map(o=>({title:`${o.competition.name} - ${o.homeTeam.name} vs ${o.awayTeam.name}`,start:new Date(o.dateTimeUTC),end:We(new Date(o.dateTimeUTC),2),allDay:!1,description:`${o.homeTeam.name} vs ${o.awayTeam.name} u ${o.competition.name}`,id:o.id}));return e.jsx("div",{className:"my-5 w-full px-4 md:w-10/12 md:mx-auto",children:e.jsx(He,{localizer:Ms,events:l,startAccessor:"start",endAccessor:"end",tooltipAccessor:"description",views:["month","week","day"],defaultView:n,view:n,onView:i,messages:As,selectable:!0,onSelectEvent:o=>s(`/matches/${o.id}`),min:W().set({hour:7,minute:0}).toDate(),className:"rbc-calendar min-h-[700px] h-auto pb-[20px] rounded-3xl shadow-md"})})}const Es=(s,t)=>F({mutationFn:async r=>{const a=await f.post("/api/admin/validate-password",{password:r});if(!a.data||!a.data.token)throw new Error("Pogrešna šifra!");return a.data},onSuccess:r=>{localStorage.setItem("adminToken",r.token),v.success("Uspješna autentifikacija!"),s(),t(!1)},onError:()=>{v.error("Pogrešna šifra!")}}),Ae=s=>{const t=async()=>{const l=localStorage.getItem("adminToken");if(!l)throw new Error("No token found");const o=await f.post("/api/admin/validate-token",{},{headers:{Authorization:`Bearer ${l}`}});if(!o.data)throw new Error("Invalid token");return o.data},{data:r,error:a,isLoading:n,refetch:i}=g({queryKey:["validateToken"],queryFn:t,enabled:!1,onError:()=>{v.error("Vaša sesija je istekla. Molimo prijavite se ponovno."),localStorage.removeItem("adminToken"),s("/admin")}});return{isLoading:n,error:a,refetch:i,isAdmin:!!r}},Fe=()=>{const[s,t]=x.useState(!1),[r,a]=x.useState(""),n=ce(),i=ae(),{refetch:l,isAdmin:o}=Ae(i),{mutate:d}=Es(l,t),m=x.useCallback(()=>{const h=localStorage.getItem("adminToken");n.pathname.endsWith("/admin")&&(h?l():t(!0))},[n.pathname,l]);x.useEffect(()=>{m()},[m]);const c=()=>{d(r,{onSuccess:()=>{v.success("Authenticated as admin"),t(!1),a("")},onError:()=>{v.error("Invalid password"),a("")}})},u=h=>{a(h.target.value)};return{isAdmin:o,AdminAuthModal:()=>e.jsxs(de,{title:"Administratorska autentifikacija",open:s,onCancel:()=>i("/"),maskClosable:!1,closable:!1,keyboard:!1,footer:[e.jsx(I,{onClick:()=>i("/"),children:"Odustani"},"cancel"),e.jsx(I,{type:"primary",onClick:c,children:"Potvrdi"},"submit")],children:[e.jsx("p",{children:"Molimo unesite administratorsku šifru za pristup."}),e.jsx(ne.Password,{value:r,onChange:u,onPressEnter:c,placeholder:"Unesite šifru"})]}),setIsModalVisible:t}},Rs=(s,t)=>g({queryKey:["newslist",s],queryFn:async()=>(await f.get("/api/news",{params:{page:s-1,size:t}})).data,keepPreviousData:!0}),{Title:he,Paragraph:qs}=k;function fe(){const[s,t]=x.useState(1),r=10;ce(),ae();const{isAdmin:a,AdminAuthModal:n,setIsModalVisible:i}=Fe(),{data:l,error:o,isLoading:d}=Rs(s,r),m=c=>{t(c)};return d?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(S,{size:"large"})}):o?e.jsx(C,{message:"Error",description:o instanceof Error?o.message:"An unknown error occurred",type:"error",showIcon:!0,className:"max-w-4xl mx-auto mt-4"}):e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsx(n,{}),a&&e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsx(y,{to:"/admin/manage-news",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Uredi vijesti"})}),e.jsx(he,{level:2,className:"mb-6 text-center text-2xl font-bold text-gray-800",children:"Vijesti"}),e.jsx(L,{dataSource:(l==null?void 0:l.content)||[],renderItem:c=>e.jsx(L.Item,{className:"p-0 mb-4 bg-white",children:e.jsx(B,{hoverable:!0,className:"w-full h-56 overflow-hidden rounded-3xl flex",bodyStyle:{padding:0},children:e.jsxs("div",{className:"flex flex-col sm:flex-row h-full w-full",children:[e.jsx("div",{className:"sm:w-1/3 h-full",children:e.jsx("img",{alt:c.title,src:c.thumbnailPath?c.thumbnailPath:E,className:`w-full ${c.thumbnailPath?"object-cover":"object-contain"}`})}),e.jsxs("div",{className:"p-4 sm:w-2/3 flex flex-col justify-between h-full",children:[e.jsxs("div",{children:[e.jsx(he,{level:4,className:"mb-2 text-lg font-semibold",children:c.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),new Date(c.date).toLocaleDateString()]}),e.jsx(qs,{ellipsis:{rows:3},className:"text-sm text-gray-600",children:c.content})]}),e.jsxs(y,{to:`/news/${c.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm mt-2",children:["Pročitaj više",e.jsx(Ce,{className:"w-4 h-4 ml-1"})]})]})]})})})}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(Qe,{current:s,total:(l==null?void 0:l.totalElements)||0,pageSize:r,onChange:m,showSizeChanger:!1,className:"text-sm"})})]})}const zs=s=>g({queryKey:["newsDetail",s],queryFn:async()=>(await f.get(`/api/news/${s}`)).data,enabled:!!s}),{Title:Ks,Paragraph:Us}=k;function Os(){const{id:s}=H(),{data:t,error:r,isLoading:a}=zs(s),n=o=>{const d=new Date(o);return{date:d.toLocaleDateString(),time:Je(d,"h:mm a")}};if(a)return e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e.jsx(S,{size:"large"})});if(r)return e.jsx("div",{className:"max-w-4xl mx-auto p-4",children:e.jsx(C,{message:"Error",description:`Error loading news details: ${r.message}`,type:"error",showIcon:!0,className:"shadow-md rounded-lg"})});if(!t)return e.jsx("div",{className:"max-w-4xl mx-auto p-4",children:e.jsx(C,{message:"Not Found",description:"The requested news article could not be found.",type:"warning",showIcon:!0,className:"shadow-md rounded-lg"})});const{date:i,time:l}=n(t.date);return e.jsx("div",{className:"max-w-4xl mx-auto p-4 my-10",children:e.jsxs("article",{className:"bg-white shadow-md rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(ie,{src:t.thumbnailPath||E,alt:"News Thumbnail",className:"object-cover"})}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsx(Ks,{level:1,className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:t.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"mr-4",children:i}),e.jsx(_e,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:l})]}),e.jsx(Y,{className:"my-6"}),e.jsx(Us,{className:"text-lg text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.content}),t.imagePaths&&t.imagePaths.length>0&&e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.imagePaths.map((o,d)=>e.jsx(ie,{src:o,alt:`Additional image ${d+1}`,className:"rounded-lg shadow-md"},d))})})]})]})})}const Gs=()=>g({queryKey:["news"],queryFn:async()=>(await f.get("/api/news")).data.content}),Vs=()=>{const s=Q();return F({mutationFn:async t=>{const r=await f.post("/api/news",{title:t.title,content:t.content});if(t.thumbnail){const a=new FormData;a.append("thumbnail",t.thumbnail),await f.put(`/api/news/thumbnail/${r.data.id}`,a,{headers:{"Content-Type":"multipart/form-data"}})}if(t.files&&t.files.length>0){const a=new FormData;t.files.forEach(n=>a.append("files",n)),await f.put(`/api/news/photos/${r.data.id}`,a,{headers:{"Content-Type":"multipart/form-data"}})}return r.data},onSuccess:()=>{s.invalidateQueries({queryKey:["news"]})}})},Bs=()=>{const s=Q();return F({mutationFn:async t=>{const r=new FormData;return r.append("title",t.title),r.append("content",t.content),t.thumbnail&&r.append("thumbnail",t.thumbnail),t.files&&t.files.length>0&&t.files.forEach(n=>r.append("files",n)),(await f.put(`/api/news/${t.id}`,r,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{s.invalidateQueries({queryKey:["news"]})}})},Ys=()=>{const s=Q();return F({mutationFn:t=>f.delete(`/api/news/${t}`),onSuccess:()=>{s.invalidateQueries({queryKey:["news"]})}})},Ws=async s=>(await f.post("/api/notifications/send",s)).data;function Hs(){return F({mutationFn:Ws,onSuccess:()=>{console.log("Notification sent successfully!")},onError:s=>{var t,r;console.error("Failed to send notification:",((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.message)||s.message)}})}const Qs=({news:s,onView:t,onEdit:r,onDelete:a})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thumbnail"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Content"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s==null?void 0:s.map(n=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("img",{src:n.thumbnailPath||E,alt:"Thumbnail",className:"w-12 h-12 object-cover rounded"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:n.title})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:W(n.date).format("YYYY-MM-DD HH:mm")})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:n.content})}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:[e.jsx(I,{icon:e.jsx(Ze,{}),onClick:()=>t(n),className:"mr-2"}),e.jsx(I,{icon:e.jsx(Xe,{}),onClick:()=>r(n),className:"mr-2"}),e.jsx(es,{title:"Are you sure you want to delete this news?",onConfirm:()=>a(n.id),okText:"Yes",cancelText:"No",children:e.jsx(I,{icon:e.jsx(Pe,{})})})]})]},n.id))})]})}),{TextArea:_s}=ne,Js=({mode:s,news:t,onClose:r,onSubmit:a})=>{var c;const[n]=q.useForm(),[i,l]=x.useState(t!=null&&t.thumbnailPath?[{uid:"-1",name:"thumbnail",status:"done",url:t.thumbnailPath}]:[]),[o,d]=x.useState(((c=t==null?void 0:t.imagePaths)==null?void 0:c.map((u,p)=>({uid:`-${p+1}`,name:`file-${p+1}`,status:"done",url:u})))||[]),m=()=>{n.validateFields().then(u=>{a(u,{thumbnail:i,additional:o})})};return e.jsx(de,{title:`${s.charAt(0).toUpperCase()+s.slice(1)} News`,visible:!0,onCancel:r,onOk:m,okText:"Submit",cancelText:"Cancel",children:e.jsxs(q,{form:n,layout:"vertical",initialValues:t||{},children:[e.jsx(q.Item,{name:"title",label:"Title",rules:[{required:!0}],children:e.jsx(ne,{})}),e.jsx(q.Item,{name:"content",label:"Content",rules:[{required:!0}],children:e.jsx(_s,{rows:4})}),e.jsx(q.Item,{name:"thumbnail",label:"Thumbnail",children:e.jsx(xe,{beforeUpload:()=>!1,listType:"picture-card",maxCount:1,fileList:i,onChange:({fileList:u})=>l(u),children:e.jsxs("div",{children:[e.jsx(te,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]})})}),e.jsx(q.Item,{name:"files",label:"Additional Images",children:e.jsx(xe,{beforeUpload:()=>!1,listType:"picture-card",multiple:!0,fileList:o,onChange:({fileList:u})=>d(u),children:e.jsxs("div",{children:[e.jsx(te,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]})})})]})})};function Zs(){const[s,t]=x.useState({visible:!1,mode:"",news:null}),r=ae(),{refetch:a}=Ae(r),n=Hs();x.useEffect(()=>{localStorage.getItem("adminToken")?a():(v.error("No admin access. Redirecting to login..."),r("/news"))},[a,r]);const{data:i,isLoading:l}=Gs(),o=Vs(),d=Bs(),m=Ys(),c=(j,P=null)=>{t({visible:!0,mode:j,news:P})},u=()=>{t({visible:!1,mode:"",news:null})},p=(j,P)=>{var D,$;const b={...j,thumbnail:((D=P.thumbnail[0])==null?void 0:D.originFileObj)||(($=P.thumbnail[0])==null?void 0:$.url),files:P.additional.map(U=>U.originFileObj||U.url)};s.mode==="add"?o.mutate(b,{onSuccess:()=>{u(),v.success("News added successfully!");const U=localStorage.getItem("firebaseToken");if(!U){v.error("Firebase token not found. Cannot send notification.");return}n.mutate({token:U,title:j.title,body:j.content.slice(0,100)})}}):s.mode==="edit"&&d.mutate({...b,id:s.news.id},{onSuccess:()=>{u(),v.success("News updated successfully!")}})},h=j=>{m.mutate(j,{onSuccess:()=>{v.success("News deleted successfully!")}})};return e.jsxs("div",{className:"p-4 my-12 max-w-7xl mx-auto",children:[e.jsx(I,{type:"primary",icon:e.jsx(te,{}),onClick:()=>c("add"),className:"mb-4 w-full sm:w-auto",children:"Add News"}),l?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(S,{size:"large"})}):e.jsx(Qs,{news:i,onView:j=>c("view",j),onEdit:j=>c("edit",j),onDelete:h}),s.visible&&e.jsx(Js,{mode:s.mode,news:s.news,onClose:u,onSubmit:p})]})}const Xs=async s=>(await f.get(`/api/competition/${s}/matches`)).data,et=s=>g({queryKey:["allMatches",s],queryFn:()=>Xs(s)}),st=s=>{const t=s.reduce((a,n)=>{const i=new Date(n.dateTimeUTC),l=`${i.getFullYear()}-${i.getMonth()+1}`;return a[l]=a[l]||[],a[l].push(n),a},{});Object.keys(t).forEach(a=>{t[a].sort((n,i)=>new Date(n.dateTimeUTC)-new Date(i.dateTimeUTC))});const r=Object.keys(t).sort((a,n)=>{const[i,l]=a.split("-").map(Number),[o,d]=n.split("-").map(Number);return i-o||l-d});return{grouped:t,sortedMonths:r}};function T(s){return g({queryKey:["image",s],queryFn:async()=>{const t=await f.get(`/api/comet/image/${s}`,{responseType:"blob",headers:{Accept:"image/jpeg"}});return URL.createObjectURL(t.data)}})}const tt=({picture:s,teamName:t})=>{const{data:r,error:a,isLoading:n}=T(s);return n?e.jsx(S,{size:"small"}):a?e.jsx(C,{message:"Error",description:a.message,type:"error"}):e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:r,alt:t,className:"w-12 h-12 object-contain"})})},je=({team:s,align:t="right",isHome:r})=>e.jsxs("div",{className:`flex items-center justify-center sm:justify-${t} w-full sm:w-2/5`,children:[r&&e.jsx(k.Text,{className:"text-gray-800 font-bold text-center sm:text-right text-sm sm:text-base mr-2 truncate max-w-[120px] sm:max-w-[150px]",children:s.name}),e.jsx(tt,{picture:s.picture,teamName:s.name}),!r&&e.jsx(k.Text,{className:"text-gray-800 font-bold text-center sm:text-left text-sm sm:text-base ml-2 truncate max-w-[120px] sm:max-w-[150px]",children:s.name})]}),at=s=>{const t=new Date(s);return{date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},nt=({match:s})=>{var r,a;const t=at(s.dateTimeUTC);return e.jsx(L.Item,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between w-full space-y-4 sm:space-y-0",children:[e.jsx("div",{className:"w-full sm:w-1/4 text-center sm:text-left text-gray-600",children:e.jsxs(k.Text,{className:"font-semibold",children:[e.jsxs("span",{className:"block",children:["Kolo ",s.round]}),e.jsx("span",{className:"block",children:t.date}),e.jsx("span",{className:"block",children:t.time})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center w-full sm:w-1/2 space-y-2 sm:space-y-0",children:[e.jsx(je,{team:s.homeTeam,align:"end",isHome:!0}),e.jsx(k.Text,{className:"mx-2 font-bold text-center w-16 sm:w-1/5",children:((r=s.homeTeamResult)==null?void 0:r.current)!==void 0&&((a=s.awayTeamResult)==null?void 0:a.current)!==void 0?e.jsxs("span",{children:[s.homeTeamResult.current," - ",s.awayTeamResult.current]}):e.jsx("span",{children:"VS"})}),e.jsx(je,{team:s.awayTeam,align:"start"})]}),e.jsx("div",{className:"w-full sm:w-1/4 text-center sm:text-right",children:s.liveStatus==="PLAYED"&&e.jsx(y,{to:`/matches/${s.id}`,className:"inline-block px-4 py-2 bg-blue-600 text-white text-sm font-bold uppercase rounded-lg hover:bg-blue-700 hover:shadow-md transition duration-200",children:"Detalji"})})]})})},rt=({competitionId:s})=>{const{data:t,error:r,isLoading:a}=et(s);if(a)return e.jsx(S,{size:"large",className:"flex justify-center items-center h-64"});if(r)return e.jsx(C,{message:"Error fetching matches",type:"error",className:"mx-4"});const{grouped:n,sortedMonths:i}=st(t);return e.jsx("div",{className:"w-full max-w-7xl mx-auto p-4 shadow-md rounded-3xl",children:i.map(l=>e.jsxs("div",{className:"mb-6",children:[e.jsx(k.Title,{level:4,className:"text-base sm:text-lg font-bold text-gray-800 uppercase",children:new Date(l+"-01").toLocaleString("default",{month:"long",year:"numeric"})}),e.jsx(Y,{className:"my-2 sm:my-4"}),e.jsx(L,{itemLayout:"horizontal",dataSource:n[l],renderItem:o=>e.jsx(nt,{match:o})})]},l))})};function it(s){return g({queryKey:["teamStandings",s],queryFn:async()=>s?(await f.get(`/api/competition/${s}/standings`)).data:null,enabled:!!s})}const lt=s=>{const t=["m1","m2","m3","m4","m5"].map(r=>{var a;return((a=s[r])==null?void 0:a.result)||"-"});return e.jsx("div",{className:"flex justify-center space-x-1 md:space-x-2",children:t.map((r,a)=>e.jsx("span",{className:`w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-[10px] md:text-xs font-bold rounded-full ${r==="W"?"bg-green-500 text-white":r==="D"?"bg-yellow-500 text-white":r==="L"?"bg-red-500 text-white":"bg-gray-200 text-gray-600"}`,children:r},a))})},ot=s=>{const t=s.split(" ");if(t.length<=2)return s;const r=Math.ceil(t.length/2);return e.jsxs(e.Fragment,{children:[t.slice(0,r).join(" "),e.jsx("br",{}),t.slice(r).join(" ")]})},ct=({picture:s,teamName:t})=>{const{data:r,error:a,isLoading:n}=T(s);return n?e.jsx(S,{size:"small"}):a?e.jsx("span",{className:"text-red-500",children:"!"}):e.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:r?e.jsx("img",{src:r,alt:`${t} logo`,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-gray-500 text-xs md:text-sm font-bold",children:t.slice(0,2).toUpperCase()})})},dt=()=>{const s=[{title:"#",dataIndex:"position",key:"position",align:"center",render:i=>e.jsx("span",{className:"font-semibold",children:i}),width:40},{title:"Tim",dataIndex:["team","name"],key:"team.name",render:(i,l)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{picture:l.team.picture,teamName:l.team.name}),e.jsx("span",{className:`font-medium ml-2 md:ml-3 leading-tight ${l.team.name==="SNK Moslavac"?"text-blue-600 font-bold":"text-gray-800"}`,children:ot(i)})]}),width:200},{title:"BOD",dataIndex:"points",key:"points",align:"center",className:"font-bold",width:60}],t=[{title:"O",dataIndex:"played",key:"played",align:"center",width:40},{title:"P",dataIndex:"wins",key:"wins",align:"center",width:40},{title:"N",dataIndex:"draws",key:"draws",align:"center",width:40},{title:"I",dataIndex:"losses",key:"losses",align:"center",width:40}],r=[{title:"Golovi",key:"goals",align:"center",render:i=>`${i.goalsFor}:${i.goalsAgainst}`,width:80},{title:"Raz",key:"goalDifference",align:"center",render:i=>i.goalsFor-i.goalsAgainst,width:60}],a=[{title:"Forma",key:"form",render:lt,width:140}],n=[...s,...t,...r,...a];return{mainColumns:s,resultsColumns:t,goalsColumns:r,formColumn:a,desktopColumns:n}},{TabPane:J}=$e,Ee=({competitionId:s})=>{const{data:t,error:r,isLoading:a}=it(s);if(a)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(S,{size:"large"})});if(r)return e.jsx(C,{message:"Error",description:`Failed to load standings. ${r.message}`,type:"error",showIcon:!0});if(!t||!Array.isArray(t)||t.length===0)return e.jsx(C,{message:"No Data",description:"No standings data available.",type:"info",showIcon:!0});const n=dt(),i=l=>e.jsx(ss,{dataSource:t,columns:l,rowKey:o=>o.team.id,pagination:!1,className:"w-full text-sm md:text-base lg:text-lg",rowClassName:o=>`${o.team.name==="SNK Moslavac"?"bg-blue-50":o.position%2===0?"bg-gray-50":"bg-white"}`,size:"middle"});return e.jsxs("div",{className:"max-w-6xl mx-auto px-4  rounded-3xl shadow-md",children:[e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:i(n.desktopColumns)}),e.jsx("div",{className:"sm:hidden",children:e.jsxs($e,{defaultActiveKey:"main",centered:!0,children:[e.jsx(J,{tab:"Bodovi",children:i(n.mainColumns)},"main"),e.jsx(J,{tab:"Rezultati",children:i([...n.mainColumns.slice(0,2),...n.resultsColumns])},"results"),e.jsx(J,{tab:"Golovi",children:i([...n.mainColumns.slice(0,2),...n.goalsColumns])},"goals"),e.jsx(J,{tab:"Forma",children:i([...n.mainColumns.slice(0,2),...n.formColumn])},"form")]})})]})},Re=({tabs:s,activeTab:t,onTabChange:r})=>e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"inline-flex rounded-lg",role:"group",children:s.map((a,n)=>e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium border 
                        ${n===0?"rounded-l-lg":""} 
                        ${n===s.length-1?"rounded-r-lg":""} 
                        ${t===a.key?"bg-gray-200 text-gray-900":"bg-white text-gray-500 hover:bg-gray-100"}`,onClick:()=>r(a.key),children:a.label},a.key))})}),mt=()=>{const{competitionId:s,competitionName:t}=H(),[r,a]=x.useState("matches"),n=[{key:"matches",label:"Utakmice"},{key:"standings",label:"Tablica"}],i=()=>{switch(r){case"matches":return e.jsx(rt,{competitionId:s});case"standings":return e.jsx(Ee,{competitionId:s});default:return null}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:decodeURIComponent(t)}),e.jsx(Re,{tabs:n,activeTab:r,onTabChange:a}),e.jsx("div",{className:"mt-6",children:i()})]})};function qe(s){return g({queryKey:["playerDetails",s],queryFn:async()=>{if(!s)throw new Error("Invalid personId");return(await f.get(`/api/player-details/${s}`)).data},enabled:!!s})}const{Text:pe,Title:xt}=k;function ut({playerId:s,competitionId:t}){const{data:r,isLoading:a,isError:n}=qe(s),{data:i,isLoading:l}=T(r==null?void 0:r.picture);return a||l?e.jsx(B,{className:"w-full",children:e.jsx(S,{})}):n?e.jsx(B,{className:"w-full",children:e.jsx(pe,{type:"danger",children:"Došlo je do pogreške prilikom dohvaćanja detalja o igraču."})}):e.jsx(B,{className:"w-full hover:shadow-md transition-shadow duration-300",children:e.jsxs(y,{to:`/players/${s}/stats/${t}`,className:"flex items-center space-x-4",children:[e.jsx(Ie,{size:64,src:i.image,icon:e.jsx(me,{}),alt:r.name}),e.jsxs("div",{children:[e.jsx(xt,{level:5,className:"m-0",children:r.name}),e.jsxs(pe,{type:"secondary",children:["Godine: ",r.age]})]})]})})}const ht=()=>{const{id:s}=H();return isLoading?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(S,{tip:"Loading..."})}):isError?e.jsx(C,{message:"Error",description:"Došlo je do pogreške prilikom dohvaćanja igrača.",type:"error",className:"mb-4"}):e.jsxs("div",{className:"overflow-x-auto bg-gray-50 shadow-md rounded-lg p-6 max-w-3xl mx-auto my-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Lista Igrača"}),e.jsx(L,{dataSource:players,renderItem:t=>e.jsx(L.Item,{className:"py-2",children:e.jsx(ut,{playerId:t.personId,competitionId:s})}),style:{borderCollapse:"collapse"},className:"table-auto"})]})},ft=(s,t)=>g({queryKey:["playerStats",s,t],queryFn:async()=>!s||!t?null:(await f.get(`/api/player/${s}/stats/${t}`)).data,enabled:!!s&&!!t});function le({value:s}){const[t,r]=x.useState(0);return x.useEffect(()=>{const i=16.666666666666668,l=s/60;let o=0;const d=setInterval(()=>{o++;const m=Math.min(l*o,s);r(Math.floor(m)),m>=s&&clearInterval(d)},i);return()=>clearInterval(d)},[s]),e.jsx("span",{children:t})}const{Text:jt}=k;function Z({icon:s,title:t,value:r,color:a}){return e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[s,e.jsx(jt,{className:"ml-2 font-semibold",children:t})]}),e.jsx("div",{className:`text-3xl font-bold text-${a}-600`,children:e.jsx(le,{value:r})})]})}const{Title:pt,Text:M}=k,gt=()=>{var c;const{playerId:s}=H(),r=(c=ce().state)==null?void 0:c.competition,{data:a}=qe(s),{data:n,isLoading:i,isError:l}=ft(s,r==null?void 0:r.id),{data:o}=T(a==null?void 0:a.picture),{data:d}=T(a==null?void 0:a.flag);if(console.log(s),console.log(r),console.log(n),i)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(S,{size:"large"})});if(l)return e.jsx("div",{className:"max-w-2xl mx-auto my-12 p-6",children:e.jsx(C,{message:"Error",description:"Došlo je do pogreške prilikom dohvaćanja statistike igrača.",type:"error",showIcon:!0})});if(!n||n.length===0)return e.jsx("div",{className:"max-w-2xl mx-auto my-12 p-6",children:e.jsx(C,{message:"No Stats",description:"Nema dostupnih statistika za ovog igrača.",type:"info",showIcon:!0})});const m=n.minutesPlayed/(n.matchesPlayed*90)*100;return e.jsxs("div",{className:"max-w-6xl mx-auto my-24 p-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl shadow-md",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-12",children:[e.jsx("div",{className:"w-48 h-48 rounded-full overflow-hidden mb-6 md:mb-0 md:mr-12 border-4 border-white shadow-md",children:o&&e.jsx("img",{src:o,alt:a==null?void 0:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx(pt,{level:1,className:"mb-2 text-4xl font-bold text-gray-800",children:a==null?void 0:a.name}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start mb-4",children:[d&&e.jsx("img",{src:d,alt:a==null?void 0:a.nationality,className:"w-8 h-6 mr-3 shadow-sm"}),e.jsx(M,{className:"text-xl text-gray-600",children:a==null?void 0:a.nationality})]}),e.jsxs(M,{className:"text-lg text-gray-700 block mb-2",children:["Godine: ",a==null?void 0:a.age]}),e.jsxs(M,{className:"text-lg text-gray-700 block mb-4",children:[a==null?void 0:a.club.name,", ",a==null?void 0:a.club.place]}),e.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full",children:n.competition.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[e.jsx(Z,{icon:e.jsx(me,{}),title:"Odigrane utakmice",value:n.matchesPlayed}),e.jsx(Z,{icon:e.jsx(De,{}),title:"Golovi",value:n.goals}),e.jsx(Z,{icon:e.jsx(K,{className:"text-yellow-500"}),title:"Žuti kartoni",value:n.yellowCards}),e.jsx(Z,{icon:e.jsx(K,{className:"text-red-500"}),title:"Crveni kartoni",value:n.redCards})]}),n.minutesPlayed&&e.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-md",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(M,{className:"text-lg font-semibold text-gray-700 mb-2 block",children:"Odigrane minute"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"text-blue-500 mr-3"}),e.jsx("div",{className:"flex-grow",children:e.jsx(ts,{percent:Math.round(m),strokeColor:{"0%":"#108ee9","100%":"#87d068"}})})]}),e.jsxs(M,{className:"text-sm text-gray-500 mt-1 block",children:[e.jsx(le,{value:n.minutesPlayed})," min"]})]}),e.jsxs("div",{children:[e.jsx(M,{className:"text-lg font-semibold text-gray-700 mb-2 block",children:"Cijele odigrane utakmice"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"text-green-500 mr-3"}),e.jsx(M,{className:"text-3xl font-bold text-green-600",children:e.jsx(le,{value:n.fullMatchesPlayed})})]})]})]})})})]})};function bt(s){return g({queryKey:["matchInfo",s],queryFn:async()=>(await f.get(`/api/match/${s}`)).data,enabled:!!s})}function yt(s){return g({queryKey:["matchEvents",s],queryFn:async()=>(await f.get(`/api/match/${s}/events`)).data,enabled:!!s})}function wt(s){return g({queryKey:["matchLineups",s],queryFn:async()=>(await f.get(`/api/match/${s}/lineups`)).data,enabled:!!s})}function Nt(s){return g({queryKey:["matchReferees",s],queryFn:async()=>(await f.get(`/api/match/${s}/referees`)).data,enabled:!!s})}const ge=({team:s,teamImage:t})=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("img",{src:t==null?void 0:t.data,alt:s.name,className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-2 rounded-full bg-white p-1 sm:p-2"}),e.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:s.name})]}),vt=({referees:s})=>s!=null&&s.length?e.jsxs("div",{className:"mt-4 bg-white rounded-3xl shadow-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-xl text-gray-900 font-bold mb-4",children:"Službene osobe"}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.filter(t=>t.role!=="Delegat").map((t,r)=>e.jsxs("div",{className:"py-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-base font-medium text-gray-800",children:t.name}),e.jsx("span",{className:"text-sm text-gray-500 ",children:t.role})]},r))})]}):null,G=(s,t)=>t?`${s}+${t}`:`${s}'`,z=(s,t,r)=>s?t?e.jsx(y,{to:`/stats/${s.personId}`,state:{competition:r},className:"hover:underline",children:s.name}):s.name:null,re=({event:s,isMoslavacEvent:t,isOwnGoal:r,competition:a})=>{var i,l;const{data:n}=T((i=s.player)==null?void 0:i.picture);return e.jsxs("div",{className:`w-auto flex items-center p-3 rounded-lg 
            ${t?"bg-blue-100":"bg-gray-100"}`,children:[e.jsx(De,{className:`mr-4 ${r?"text-red-500":t?"text-blue-500 text-2xl":"text-gray-500 text-xl"}`}),n&&t&&e.jsx("img",{src:n,alt:((l=s.player)==null?void 0:l.name)||"Player",className:"w-12 h-12 rounded-full mr-4 object-cover"}),e.jsx("div",{children:e.jsxs("span",{className:`font-semibold ${t?"text-blue-600":"text-gray-600"}`,children:[z(s.player,t,a)," ",G(s.minuteFull,s.stoppageTime)]})})]})},kt=({moslavacIsHome:s,matchEvents:t,competition:r})=>{const a=(i,l,o)=>({START:i.matchPhase.fcdName==="FIRST_HALF"&&e.jsx("span",{className:"font-bold",children:"POČETAK"}),END:i.matchPhase.fcdName==="FIRST_HALF"&&e.jsx("span",{className:"font-bold",children:"POLUVRIJEME"}),GOAL:e.jsx(re,{event:i,isMoslavacEvent:l,isOwnGoal:!1,competition:r}),PENALTY:e.jsx(re,{event:i,isMoslavacEvent:l,isOwnGoal:!1,competition:r}),OWN_GOAL:e.jsx(re,{event:i,isMoslavacEvent:l,isOwnGoal:!0,competition:r}),YELLOW:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"text-yellow-500"}),e.jsxs("span",{className:`font-semibold ${o}`,children:[z(i.player||i.teamOfficial,l)," ",G(i.minuteFull,i.stoppageTime)]})]}),SECOND_YELLOW:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"text-yellow-500"}),e.jsx(K,{className:"text-red-500 absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4"})]}),e.jsxs("span",{className:o,children:[z(i.player||i.teamOfficial,l)," ",G(i.minuteFull,i.stoppageTime)]})]}),RED:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"text-red-500"}),e.jsxs("span",{className:o,children:[z(i.player||i.teamOfficial,l)," ",G(i.minuteFull,i.stoppageTime)]})]}),SUBSTITUTION:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ns,{className:"text-green-500"}),e.jsx("span",{className:`font-semibold ${o}`,children:z(i.player,l)})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:o,children:[z(i.player2,l)," ",G(i.minuteFull,i.stoppageTime)]})})]}),FULL_TIME:e.jsx("span",{className:"font-bold",children:"KRAJ"})})[i.eventType.fcdName]||null,n=i=>{const l=s&&i.homeTeam||!s&&!i.homeTeam,d=a(i,l,l?"text-blue-600":"text-gray-600");if(!d)return null;const m=i.homeTeam===void 0?"justify-center":i.homeTeam?"justify-start":"justify-end",c=i.homeTeam===void 0?"text-center":i.homeTeam?"text-left":"text-right";return e.jsx("div",{className:`w-full flex ${m} ${c}`,children:d})};return e.jsx("div",{className:"mb-8 w-full max-w-3xl mx-auto bg-white rounded-3xl shadow-md border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200",children:t.map((i,l)=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-150",children:n(i)},l))})})},Tt=({moslavacIsHome:s,homeTeam:t,awayTeam:r,competition:a,homeTeamImage:n,awayTeamImage:i})=>{const[l,o]=x.useState("home"),d=(u,p)=>u.filter(h=>h.starting===p).sort((h,j)=>h.position==="G"?-1:j.position==="G"?1:0),m=({players:u,isAwayTeam:p})=>e.jsx("ul",{className:`space-y-2 ${p?"md:text-right":""}`,children:u.map(h=>{const j=s!==p;return e.jsx("li",{className:`flex items-center justify-center ${p?"md:justify-end":"md:justify-start"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-bold",children:h.shirtNumber}),j?e.jsx(y,{to:`/stats/${h.personId}`,state:{competition:a},className:"hover:underline",children:e.jsx("span",{children:h.name})}):e.jsx("span",{children:h.name}),h.captain&&e.jsx("span",{className:"text-gray-500 text-sm",children:"(C)"}),h.position==="G"&&e.jsx("span",{className:"text-gray-500 text-sm",children:"(GK)"})]})},h.personId)})}),c=({team:u,isAwayTeam:p})=>e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 md:hidden",children:"Početna postava"}),e.jsx(m,{players:d(u.players,!0),isAwayTeam:p}),e.jsx(Y,{plain:!0,children:e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-4 md:hidden",children:"Zamjene"})}),e.jsx(m,{players:d(u.players,!1),isAwayTeam:p})]});return e.jsxs("div",{className:"bg-white rounded-3xl shadow-md border border-gray-200 overflow-hidden mb-8 mx-auto max-w-4xl",children:[e.jsxs("div",{className:"hidden md:block p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 text-center",children:"Početna postava"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsx(m,{players:d(t.players,!0),isAwayTeam:!1}),e.jsx(m,{players:d(r.players,!0),isAwayTeam:!0})]}),e.jsx(Y,{plain:!0,children:e.jsx("h3",{className:"text-xl font-semibold mb-6 text-center",children:"Zamjene"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx(m,{players:d(t.players,!1),isAwayTeam:!1}),e.jsx(m,{players:d(r.players,!1),isAwayTeam:!0})]})]}),e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsxs("button",{className:`flex-1 py-4 px-6 text-center ${l==="home"?"bg-gray-100 font-semibold":""}`,onClick:()=>o("home"),children:[e.jsx("img",{src:n==null?void 0:n.data,alt:t.name,className:"w-12 h-12 mx-auto mb-2"}),e.jsx("span",{children:t.name})]}),e.jsxs("button",{className:`flex-1 py-4 px-6 text-center ${l==="away"?"bg-gray-100 font-semibold":""}`,onClick:()=>o("away"),children:[e.jsx("img",{src:i==null?void 0:i.data,alt:r.name,className:"w-12 h-12 mx-auto mb-2"}),e.jsx("span",{children:r.name})]})]}),e.jsx("div",{className:"p-6",children:l==="home"?e.jsx(c,{team:t,isAwayTeam:!1}):e.jsx(c,{team:r,isAwayTeam:!0})})]})]})},St=({moslavacIsHome:s,matchEvents:t,homeTeam:r,awayTeam:a,competition:n,homeTeamImage:i,awayTeamImage:l})=>{var c;const[o,d]=x.useState("events"),m=[{key:"events",label:"Detalji",content:e.jsx(kt,{moslavacIsHome:s,matchEvents:t,competition:n})},{key:"lineups",label:"Postave",content:e.jsx(Tt,{moslavacIsHome:s,homeTeam:r,awayTeam:a,competition:n,homeTeamImage:i,awayTeamImage:l})},{key:"table",label:"Tablica",content:e.jsx(Ee,{competitionId:n==null?void 0:n.id})}];return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(Re,{tabs:m,activeTab:o,onTabChange:d}),e.jsx("div",{children:(c=m.find(u=>u.key===o))==null?void 0:c.content})]})};function Ct(){var D,$;const{matchId:s}=H(),[t,r]=x.useState(!1),{data:a,error:n}=bt(s),{data:i}=yt(s),{data:l}=wt(s),{data:o}=Nt(s),d=T((D=a==null?void 0:a.homeTeam)==null?void 0:D.picture),m=T(($=a==null?void 0:a.awayTeam)==null?void 0:$.picture);if(x.useEffect(()=>{a&&r(a.homeTeam.name==="SNK Moslavac")},[a]),n||!a||!i||!l||!o)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})});const{homeTeam:c,awayTeam:u,dateTimeUTC:p,round:h,competition:j,homeTeamResult:P,awayTeamResult:b}=a;return e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[e.jsx("div",{className:"bg-white shadow-md rounded-3xl overflow-hidden",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 text-white p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium mb-2 sm:mb-0",children:new Date(p).toLocaleDateString()}),e.jsxs("span",{className:"text-xs sm:text-sm font-bold",children:["Kolo ",h]})]}),e.jsx(y,{to:`/season/${j.id}/${encodeURIComponent(j.name)}`,className:"block text-center",children:e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4",children:j.name})}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-between",children:[e.jsx(ge,{team:c,teamImage:d}),e.jsxs("div",{className:"flex-shrink-0 text-2xl sm:text-4xl font-bold mx-4",children:[P==null?void 0:P.current," - ",b==null?void 0:b.current]}),e.jsx(ge,{team:u,teamImage:m})]})]})}),e.jsx("div",{children:e.jsx(St,{moslavacIsHome:t,matchEvents:i,homeTeam:l.home,awayTeam:l.away,competition:j,homeTeamImage:d,awayTeamImage:m})}),e.jsx(vt,{referees:o.matchOfficials})]})}const Pt=()=>g({queryKey:["latestNews"],queryFn:async()=>(await f.get("/api/news/latest")).data});function $t(){const s=x.useRef(null),{data:t,error:r,isLoading:a}=Pt();return a?e.jsx(S,{tip:"Loading...",className:"flex justify-center items-center h-64"}):r?e.jsx(C,{message:"Error",description:r.message,type:"error",className:"max-w-6xl mx-auto mt-8"}):!t||t.length===0?e.jsx(C,{message:"No News Available",type:"info",className:"max-w-6xl mx-auto mt-8"}):e.jsx("div",{className:"relative w-full max-w-6xl mx-auto bg-white md:rounded-3xl shadow-md overflow-hidden",children:e.jsx(Me,{ref:s,autoplay:!0,dotPosition:"bottom",className:"overflow-hidden",children:t.map(n=>e.jsx("div",{className:"h-[28rem] sm:h-[32rem] md:h-[36rem] lg:h-[40rem]",children:e.jsxs("div",{className:"relative h-full group",children:[e.jsx("img",{src:n.thumbnailPath?n.thumbnailPath:E,alt:n.title,className:`absolute inset-0 w-full h-full transition-transform duration-700 ease-in-out group-hover:scale-105 ${n.thumbnailPath?"object-cover":"object-contain"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent opacity-70"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 sm:p-8 md:p-10 lg:p-12 flex flex-col justify-end h-full",children:[e.jsx("h2",{className:"text-white text-2xl sm:text-3xl md:text-4xl font-bold mb-4 line-clamp-3 leading-tight",children:n.title}),e.jsx(y,{to:`/news/${n.id}`,className:"self-start mt-4 group inline-flex items-center",children:e.jsx("span",{className:"text-white bg-blue-600 px-6 py-3 rounded-full font-semibold text-sm sm:text-base transition duration-300 ease-in-out group-hover:bg-blue-700 shadow-md",children:"PROČITAJ"})})]})]})},n.id))})})}function It(){return g({queryKey:["nextMatch"],queryFn:async()=>(await f.get("/api/senior-competition/next-match")).data})}function Dt(){return g({queryKey:["previousMatch"],queryFn:async()=>{const s=await f.get("/api/senior-competition/previous-match");if(!s.data)throw new Error("No previous match found");return s.data}})}const ze=({targetDate:s,homeScore:t,awayScore:r})=>{const a=()=>{const l=new Date(s)-new Date;return l<=0?null:{d:Math.floor(l/864e5),h:Math.floor(l/36e5%24),m:Math.floor(l/1e3/60%60),s:Math.floor(l/1e3%60)}},[n,i]=x.useState(a());return x.useEffect(()=>{if(!n)return;const l=setInterval(()=>{const o=a();o||clearInterval(l),i(o)},1e3);return()=>clearInterval(l)},[n]),e.jsx("div",{children:n?Object.entries(n).map(([l,o])=>e.jsxs("span",{children:[o," ",l," "]},l)):e.jsxs("span",{children:[t," - ",r]})})};function be({match:s,homeTeam:t,awayTeam:r,date:a,location:n,homeScore:i,awayScore:l,liveStatus:o}){const{data:d}=T(t.picture),{data:m}=T(r.picture),u=(h=>{if(!h)return{date:"N/A",time:"N/A"};const j=new Date(h);return{date:j.toLocaleDateString(),time:j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}})(a),p=({team:h,teamImage:j})=>e.jsxs("div",{className:"flex flex-col items-center w-2/5",children:[e.jsx("div",{className:"bg-white p-2 rounded-full shadow-md mb-2",children:e.jsx("img",{src:j,alt:`${h.name} logo`,className:"h-12 w-12 sm:h-16 sm:w-16"})}),e.jsx("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm text-center line-clamp-2",children:h.name})]});return e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 rounded-3xl p-4 sm:p-6 text-center w-full max-w-[28rem] mx-auto shadow-md transition-all duration-300 hover:shadow-md hover:border-gray-300 flex flex-col justify-between min-h-[400px]",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-800 flex items-center justify-center gap-2",children:[s==="Današnja utakmica"&&e.jsx(rs,{style:{color:"#FF3B30",fontSize:"1.25rem"}}),s]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(p,{team:t,teamImage:d}),e.jsx("div",{className:"flex-shrink-0 text-gray-400 font-bold text-xl sm:text-2xl",children:"VS"}),e.jsx(p,{team:r,teamImage:m})]}),e.jsxs("div",{className:"mb-4 text-gray-600",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base",children:u.date}),e.jsx("p",{className:"text-xs sm:text-sm mt-1",children:u.time}),e.jsx("p",{className:"text-xs mt-2 text-gray-500",children:n})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 py-2 px-4 rounded-full text-base sm:text-lg font-bold text-white shadow-md",children:e.jsx(ze,{targetDate:a,homeScore:i,awayScore:l})})]})}function Lt(){var c,u,p,h;const{data:s,error:t,isLoading:r}=It(),{data:a,error:n,isLoading:i}=Dt();if(r||i)return e.jsx("div",{className:"text-center py-8",children:"Loading..."});if(t||n)return e.jsx("div",{className:"text-center py-8 text-red-500",children:"Error loading matches"});const l=s&&Object.keys(s).length>0,o=a&&Object.keys(a).length>0,d=a!=null&&a.dateTimeUTC&&new Date(a.dateTimeUTC).toDateString()===new Date().toDateString()?"Današnja utakmica":"Prethodna utakmica",m=[o,l].filter(Boolean).length;return e.jsxs("div",{className:`flex ${m===1?"justify-center":"justify-between"} flex-col md:flex-row gap-8 w-full max-w-5xl mx-auto px-4`,children:[o&&e.jsx(y,{to:`/matches/${a.id}`,className:"w-full md:w-1/2",children:e.jsx(be,{match:d,homeTeam:a.homeTeam||{name:"N/A",picture:""},awayTeam:a.awayTeam||{name:"N/A",picture:""},date:a.dateTimeUTC?new Date(a.dateTimeUTC):new Date,location:((c=a.facility)==null?void 0:c.place)||"N/A",homeScore:((u=a.homeTeamResult)==null?void 0:u.current)||0,awayScore:((p=a.awayTeamResult)==null?void 0:p.current)||0,liveStatus:a.liveStatus||"SCHEDULED"})}),l&&e.jsx(y,{to:`/matches/${s.id}`,className:"w-full md:w-1/2",children:e.jsx(be,{match:"Sljedeća utakmica",homeTeam:s.homeTeam||{name:"N/A",picture:""},awayTeam:s.awayTeam||{name:"N/A",picture:""},date:s.dateTimeUTC?new Date(s.dateTimeUTC):new Date,location:((h=s.facility)==null?void 0:h.place)||"N/A",homeScore:null,awayScore:null,liveStatus:s.liveStatus||"SCHEDULED"})})]})}const Mt="/assets/Jakna-Rda6HDRD.jpg",At="/assets/Hoody-DK3qa9TX.jpg",Ft="/assets/Polo-majica-CEe_6BD3.jpg",Et="/assets/Calcio-trenirka-1-BSnRNG47.jpg",Rt="/assets/Screenshot_2-DZyt50sw.png",qt="/assets/Screenshot_1-CyIioMWD.png",zt=[{id:1,image:qt,text:"Domaći dres"},{id:2,image:Rt,text:"Gostujući dres"},{id:3,image:Et,text:"Trenirka"},{id:4,image:Mt,text:"Jakna"},{id:5,image:At,text:"Duksa"},{id:6,image:Ft,text:"Polo Majica"}];function Kt(){const s=is.useRef(null);return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:py-16 rounded-3xl bg-gradient-to-br from-gray-50 to-white shadow-md transition-all duration-300 hover:shadow-xl",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mb-8 sm:mb-12 text-gray-900",children:"WebShop"}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{ref:s,slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}}],className:"[-webkit-tap-highlight-color:transparent]",children:zt.map(t=>e.jsx("div",{className:"px-2 sm:px-4 py-8",children:e.jsxs("div",{className:"bg-white w-full max-w-[280px] h-[420px] mx-auto rounded-2xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-105",children:[e.jsxs("div",{className:"relative w-full h-[280px] overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.text,className:"w-full h-full object-cover transition duration-300 ease-in-out"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-900 font-semibold py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Detalji"})})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.text}),e.jsxs("button",{className:"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center justify-center",children:[e.jsx(ls,{className:"w-5 h-5 mr-2"}),"Kupi odmah"]})]})]})},t.id))}),e.jsx("button",{className:"absolute top-1/2 -left-4 sm:left-0 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full p-2 sm:p-3 shadow-md focus:outline-none transition duration-300 ease-in-out",onClick:()=>{var t;return(t=s.current)==null?void 0:t.prev()},"aria-label":"Previous slide",children:e.jsx(os,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-800"})}),e.jsx("button",{className:"absolute top-1/2 -right-4 sm:right-0 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full p-2 sm:p-3 shadow-md focus:outline-none transition duration-300 ease-in-out",onClick:()=>{var t;return(t=s.current)==null?void 0:t.next()},"aria-label":"Next slide",children:e.jsx(Ce,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-800"})})]})]})}const Ut="/assets/fans-BFfyxwmN.jpg";function Ot(){return e.jsx(N.div,{className:"max-w-4xl mx-auto overflow-hidden rounded-3xl shadow-lg transition-all duration-300 hover:shadow-2xl bg-white",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/2 relative overflow-hidden",children:[e.jsx(N.img,{src:Ut,alt:"SNK Moslavac navijači",className:"w-full h-64 md:h-full object-cover",whileHover:{scale:1.05},transition:{duration:.3}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-60"}),e.jsxs("div",{className:"absolute bottom-0 left-0 p-6 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Sezona 2024/2025"}),e.jsx("p",{className:"text-sm opacity-80",children:"Budi dio naše priče"})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Postani naš 12. igrač!"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Osiguraj svoje mjesto na tribinama i podržavaj svoj klub tijekom cijele sezone."}),e.jsxs(y,{to:"/season-ticket-purchase",className:"group relative inline-flex items-center justify-center overflow-hidden rounded-full p-4 px-5 py-3 font-medium text-indigo-600 shadow-xl transition duration-300 ease-out hover:ring-1 hover:ring-blue-500",children:[e.jsx("span",{className:"absolute inset-0 h-full w-full bg-gradient-to-br from-blue-300 via-blue-500 to-blue-700"}),e.jsx("span",{className:"ease absolute bottom-0 right-0 mb-32 mr-4 block h-64 w-64 origin-bottom-left translate-x-24 rotate-45 transform rounded-full bg-blue-700 opacity-30 transition duration-500 group-hover:rotate-90"}),e.jsx("span",{className:"relative text-white text-lg font-semibold",children:"Kupi iskaznicu"}),e.jsx(cs,{className:"relative ml-2 text-white"})]})]})]})})}const{Text:V}=k,Gt=({match:s})=>{const[t,r]=x.useState(!1),{homeTeam:a,awayTeam:n,dateTimeUTC:i,competition:l}=s,o=new Date(i),d=T(a==null?void 0:a.picture),m=T(n==null?void 0:n.picture),c=()=>r(!t);return e.jsxs(N.div,{layout:!0,onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full sm:w-[340px] h-[180px] sm:h-[200px] rounded-2xl sm:rounded-3xl shadow-md cursor-pointer relative overflow-hidden md:m-6 group",style:{background:"white"},children:[e.jsx(ue,{children:!t&&e.jsxs(N.div,{initial:{opacity:1},exit:{opacity:0},className:"p-4 sm:p-6 h-full flex flex-col",children:[e.jsx(V,{className:"text-xs sm:text-sm font-semibold mb-2 sm:mb-4 block text-center text-blue-600 tracking-wide",children:l==null?void 0:l.name}),e.jsxs("div",{className:"flex justify-between items-center mb-2 sm:mb-4 flex-grow",children:[e.jsx(ye,{name:a.name,logo:d.data}),e.jsx(V,{strong:!0,className:"text-lg sm:text-xl font-bold text-gray-600",children:"vs"}),e.jsx(ye,{name:n.name,logo:m==null?void 0:m.data})]}),e.jsx(N.div,{className:"absolute bottom-2 right-2 text-blue-500",initial:{y:0},animate:{y:[0,-5,0]},transition:{duration:1.5,ease:"easeInOut",repeat:1/0},children:e.jsx(ds,{className:"text-lg"})})]},"content")}),e.jsx(ue,{children:t&&e.jsxs(N.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{duration:.3},className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-blue-600 p-4 sm:p-6 flex flex-col justify-center items-center text-white",children:[e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center mb-2 sm:mb-4",children:[e.jsx(ms,{className:"mr-2 text-base sm:text-xl text-white"}),e.jsx(V,{className:"text-white text-sm sm:text-base font-medium",children:o.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center mb-3 sm:mb-6",children:[e.jsx(Le,{className:"mr-2 text-base sm:text-xl text-white"}),e.jsx(V,{className:"text-white text-sm sm:text-base font-medium",children:o.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]}),e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(ze,{targetDate:i,homeScore:0,awayScore:0})})]},"details")})]})},ye=({name:s,logo:t})=>e.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[e.jsx("img",{src:t||"/placeholder.svg",alt:`${s} logo`,className:"w-12 h-12 sm:w-16 sm:h-16 mb-1 sm:mb-2 object-contain"}),e.jsx(V,{strong:!0,className:"text-center text-xs sm:text-sm line-clamp-2 font-medium",children:s})]}),Vt=()=>g({queryKey:["upcomingMatches"],queryFn:async()=>(await f.get("/api/matches/upcoming")).data}),Bt=()=>{const{data:s,isLoading:t,error:r}=Vt(),a=x.useRef(null),[n,i]=x.useState(!1),[l,o]=x.useState(!1),d=()=>{if(a.current){const{scrollLeft:m,scrollWidth:c,clientWidth:u}=a.current;i(m>0),o(m<c-u-1)}};return x.useEffect(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)),[s]),t?e.jsx("div",{className:"flex justify-center items-center h-48 sm:h-64",children:"Loading..."}):r?e.jsx("div",{className:"text-red-500 text-center p-4",children:"Error loading matches"}):!s||s.length===0?null:e.jsxs("div",{className:"relative max-w-full mx-auto px-2 sm:px-4 py-6 sm:py-12 bg-gray-100",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 text-center mb-4 sm:mb-8",children:"Sljedeće utakmice"}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx(N.div,{ref:a,className:"flex space-x-3 sm:space-x-4 md:space-x-6 overflow-x-auto snap-x snap-mandatory pb-4",style:{scrollSnapType:"x mandatory",scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:d,whileTap:{cursor:"grabbing"},children:s.map(m=>e.jsx(N.div,{className:"flex-shrink-0 w-[280px] sm:w-[320px] md:w-[340px] snap-start",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(Gt,{match:m})},m.id))}),l&&e.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-100 to-transparent pointer-events-none hidden lg:block"})]})]})},{Title:Yt,Text:Wt}=k,Ht=()=>{const{data:s,error:t,isLoading:r}=g({queryKey:["latestNews"],queryFn:async()=>{const n=await fetch("http://localhost:8080/api/news/latest");if(!n.ok)throw new Error("Failed to fetch news");return n.json()}}),a=x.useRef(null);return t?e.jsx(Wt,{type:"danger",className:"text-center block mt-4",children:"Error fetching news"}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.jsx(Yt,{level:2,className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-center",children:"Vijesti"}),r?e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{size:"large"})}):e.jsxs("div",{className:"relative",children:[e.jsx(N.div,{ref:a,className:"flex md:grid md:grid-cols-2 lg:grid-cols-3 md:grid-rows-2 gap-4 sm:gap-6 md:gap-8 overflow-x-auto md:overflow-x-visible pb-4 md:pb-0",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:s==null?void 0:s.slice(0,6).map((n,i)=>e.jsx(N.div,{className:"w-72 sm:w-80 md:w-full flex-shrink-0 snap-center md:snap-align-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-md transition-shadow duration-300 ease-in-out hover:shadow-xl h-full",children:[e.jsx("div",{className:"relative h-40 sm:h-48 overflow-hidden rounded-t-3xl group",children:e.jsx("img",{src:n.thumbnailPath?n.thumbnailPath:E,alt:n.title,className:`w-full h-full transform group-hover:scale-105 transition-transform duration-300 ${n.thumbnailPath?"object-cover":"object-contain"}`})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 line-clamp-2 text-gray-900 overflow-hidden text-ellipsis h-12 sm:h-16",children:n.title}),e.jsx(y,{to:`/news/${n.id}`,className:"inline-block",children:e.jsx("span",{className:"text-white bg-blue-600 px-3 sm:px-4 py-2 rounded-md font-medium text-xs sm:text-sm md:text-base hover:bg-blue-700 transition duration-200 ease-in-out shadow-lg hover:shadow-2xl",children:"PROČITAJ"})})]})]})},n.id))}),e.jsx("div",{className:"absolute left-0 right-0 bottom-0 h-4 bg-gradient-to-t from-white to-transparent md:hidden"})]})]})};function Qt(){const s="https://www.youtube.com/@SNKMoslavacPopovaca",t={icon:e.jsx(xs,{}),label:"Pretplatnika",value:"150+"};return e.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 sm:p-8 my-12 relative overflow-hidden max-w-7xl mx-auto",children:e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between",children:[e.jsxs("div",{className:"mb-8 lg:mb-0 lg:mr-8 flex-1",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 leading-tight ",children:"Gledajte Naše Utakmice Uživo!"}),e.jsx("p",{className:"text-base sm:text-lg mb-6 leading-relaxed text-gray-700",children:"Ne propustite nijednu utakmicu! Pretplatite se na naš YouTube kanal za prijenose uživo, najbolje trenutke i ekskluzivni sadržaj."}),e.jsx(I,{type:"primary",icon:e.jsx(oe,{}),size:"large",className:"text-white bg-blue-600 px-4 py-2 rounded-md font-medium text-sm sm:text-base transition duration-200 ease-in-out shadow-md hover:bg-blue-700 hover:shadow-lg",onClick:()=>window.open(s,"_blank"),children:"Posjetite Naš YouTube Kanal"})]}),e.jsx("div",{className:"w-full lg:w-auto",children:e.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-2xl",children:[e.jsx("div",{className:"text-3xl text-blue-500 mb-2",children:t.icon}),e.jsx("div",{className:"text-sm text-gray-600 text-center",children:t.label}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:t.value})]})})]})})}const A=({children:s,className:t})=>{const r=us(),[a,n]=hs({triggerOnce:!0,threshold:.1});return x.useEffect(()=>{n&&r.start("visible")},[r,n]),e.jsx(N.div,{ref:a,animate:r,initial:"hidden",variants:{visible:{opacity:1,y:0},hidden:{opacity:0,y:50}},transition:{duration:.5,ease:"easeOut"},className:t,children:s})};function we(){return e.jsxs("div",{className:"md:py-6 space-y-8 sm:space-y-12 md:space-y-16",children:[e.jsx(A,{children:e.jsx($t,{})}),e.jsx(A,{className:"bg-gray-100 p-6 sm:p-8 md:p-10 rounded-lg border border-gray-200",children:e.jsx(Lt,{})}),e.jsx(A,{children:e.jsx(Ht,{})}),e.jsx(A,{className:"bg-gray-100 p-6 sm:p-8 md:p-10 rounded-lg border border-gray-200",children:e.jsx(Bt,{})}),e.jsx(A,{children:e.jsx(Qt,{})}),e.jsx(A,{className:"bg-gray-100 p-6 sm:p-8 md:p-10 rounded-lg border border-gray-200",children:e.jsx(Kt,{})}),e.jsx(A,{children:e.jsx(Ot,{})})]})}const _t=()=>g({queryKey:["players"],queryFn:async()=>{const{data:s}=await f.get("/api/players");return s}}),Jt=()=>{const s=Q();return F({mutationFn:async t=>{const{data:r}=await f.post("/api/players",t);return r},onSuccess:()=>{s.invalidateQueries({queryKey:["players"]})}})},Zt=()=>{const s=Q();return F({mutationFn:async t=>{await f.delete(`/api/players/${t}`)},onSuccess:()=>{s.invalidateQueries({queryKey:["players"]})}})},Xt=s=>g({queryKey:["playerSearch",s],queryFn:async()=>!s||s.trim()===""?[]:(await f.get("/api/player/search",{params:{keyword:s.trim()}})).data,enabled:s.length>0}),ea=({player:s,isAdmin:t,onRemove:r,competition:a})=>{const{data:n,isLoading:i}=T(s.picture);return e.jsxs("div",{className:"w-36 m-2 bg-white rounded-lg shadow-md overflow-hidden transition transform hover:scale-105",children:[e.jsx(y,{to:`/stats/${s.personId}`,state:{competition:a},children:e.jsx("div",{className:"relative h-36 bg-gray-200",children:i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-400"})}):n?e.jsx("img",{src:n,alt:s.shortName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(me,{className:"text-4xl text-gray-400"})})})}),e.jsxs("div",{className:"p-2 text-center",children:[e.jsx(y,{to:`/stats/${s.personId}`,state:{competition:a},className:"text-sm font-semibold text-gray-800 hover:underline",children:s.shortName}),t&&e.jsx(Pe,{className:"text-red-500 cursor-pointer mt-2",onClick:()=>r(s.id)})]})]})},sa=({title:s,onClick:t})=>e.jsxs("div",{onClick:t,className:"w-36 h-56 m-2 flex flex-col items-center justify-center bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-200 transition",children:[e.jsx(te,{className:"text-2xl text-gray-400"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Add ",s]})]}),ta=({player:s,onAdd:t})=>{var a;const{data:r}=T(s.picture);return e.jsx(L.Item,{actions:[e.jsx(I,{onClick:()=>t(s),children:"Add"})],children:e.jsx(L.Item.Meta,{avatar:e.jsx(Ie,{src:r||s.picture}),title:s.name,description:`${s.shortName} - Age: ${s.age}, Nationality: ${s.nationality}, Klub: ${(a=s==null?void 0:s.club)==null?void 0:a.name}`})})};function Ne(){const[s,t]=x.useState(!1),[r,a]=x.useState(""),[n,i]=x.useState(""),{data:l=[]}=_t(),{data:o=[],isLoading:d}=Xt(n),{mutate:m}=Jt(),{mutate:c}=Zt(),{isAdmin:u,AdminAuthModal:p}=Fe(),h=b=>{m({...b,position:r},{onSuccess:()=>{v.success("Player added successfully"),t(!1),i("")},onError:()=>v.error("Failed to add player")})},j=b=>{c(b,{onSuccess:()=>v.success("Player removed successfully"),onError:()=>v.error("Failed to remove player")})},P=(b,D)=>e.jsxs("div",{className:"my-4",children:[e.jsx(Y,{orientation:"left",className:"text-lg font-semibold",children:b}),e.jsxs("div",{className:"flex flex-wrap",children:[l.filter($=>$.position===D).map($=>e.jsx(ea,{player:$,isAdmin:u,onRemove:j},$.id)),u&&e.jsx(sa,{title:b,onClick:()=>{a(D),t(!0)}})]})]},D);return e.jsxs("div",{className:"p-6 md:w-[70%] mx-auto rounded-3xl shadow-md bg-gray-50 my-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"Momčad"}),["goalkeeper","defender","midfielder","attacker"].map(b=>P(b.charAt(0).toUpperCase()+b.slice(1),b)),e.jsxs(de,{title:"Add Player",visible:s,onCancel:()=>t(!1),footer:null,children:[e.jsx(ne,{placeholder:"Search for a player",value:n,onChange:b=>i(b.target.value),className:"mb-4"}),e.jsx(L,{loading:d,itemLayout:"horizontal",dataSource:(o==null?void 0:o.result)||[],renderItem:b=>e.jsx(ta,{player:b,onAdd:h})})]}),e.jsx(p,{})]})}const{Footer:aa}=Te,{Title:X,Text:ee}=k;function na(){const[s,t]=x.useState(!1),r=async()=>{if(!("Notification"in window)){O.error({message:"Vaš preglednik ne podržava notifikacije."});return}if(Notification.permission==="granted"){O.success({message:"Već ste uključili notifikacije!"});return}if(Notification.permission!=="denied")try{await Notification.requestPermission()==="granted"?(O.success({message:"Uspješno ste uključili notifikacije!"}),t(!0)):O.warning({message:"Notifikacije su onemogućene."})}catch(l){console.error("Error enabling notifications",l),O.error({message:"Greška pri uključivanju notifikacija."})}},a=()=>e.jsxs("div",{className:"transition-all duration-300 ease-in-out hover:translate-y-[-5px]",children:[e.jsx(X,{level:3,className:"mb-6",children:"Kontakt"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(fs,{className:"mr-3 text-blue-500"}),e.jsx("a",{href:"mailto:snkmoslavac@gmail.com",className:"hover:text-blue-500 transition-colors",children:"snkmoslavac@gmail.com"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(js,{className:"mr-3 text-blue-500"}),e.jsx("a",{href:"tel:+38512345678",className:"hover:text-blue-500 transition-colors",children:"+385 1 234 5678"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(ps,{className:"mr-3 text-blue-500"}),e.jsx(ee,{children:"Trg Grofa Erdodyja b. b. 44317 Popovača"})]})]})]}),n=()=>e.jsxs("div",{className:"transition-all duration-300 ease-in-out hover:translate-y-[-5px]",children:[e.jsx(X,{level:3,className:"mb-6",children:"O nama"}),e.jsx(ee,{children:"SNK Moslavac je sportski klub posvećen promicanju atletike, timskog rada i zajedništva. Osnovan 1933. godine, imamo bogatu povijest njegovanja talenata i ljubavi prema sportu u Popovači i šire."})]}),i=()=>e.jsxs("div",{className:"transition-all duration-300 ease-in-out hover:translate-y-[-5px]",children:[e.jsx(X,{level:3,className:"mb-6",children:"Obavijesti"}),e.jsx(ee,{className:"mb-4 block",children:"Kliknite ispod i primajte najnovije vijesti i obavijesti!"}),e.jsx(I,{type:"primary",icon:e.jsx(gs,{}),className:"bg-blue-500 hover:bg-blue-600 transition-colors",onClick:r,disabled:s,children:s?"Obavijesti uključene":"Uključi obavijesti"})]});return e.jsx(aa,{className:"bg-gray-100 text-gray-600 mt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"flex flex-col items-center mb-16 space-y-8",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:E,alt:"Club Crest",className:"w-[180px] h-[180px] z-10 relative transition-transform duration-300 ease-in-out group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-full filter blur-xl transform scale-110 group-hover:scale-125 transition-transform duration-300"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(X,{level:2,className:"mb-3 font-serif italic tracking-wide",style:{color:"#1890ff"},children:"Ovdje nitko nije normalan"}),e.jsx("div",{className:"h-0.5 w-24 bg-blue-500 mx-auto rounded-full transition-all duration-500 ease-in-out group-hover:w-32"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[e.jsx(a,{}),e.jsx(n,{}),e.jsx(i,{})]}),e.jsx("div",{className:"mt-16 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs(ee,{className:"text-center md:text-left text-sm",children:["© ",new Date().getFullYear()," SNK Moslavac. Sva prava pridržana. Dizajn i razvoj web stranice: Adriano Faletar"]}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx("a",{href:"https://www.facebook.com/SNKMoslavacPopovaca","aria-label":"Facebook",className:"text-gray-600 hover:text-blue-500 transition-colors duration-300",children:e.jsx(ke,{className:"text-2xl hover:scale-110 transition-transform duration-300"})}),e.jsx("a",{href:"https://www.youtube.com/@SNKMoslavacPopovaca","aria-label":"YouTube",className:"text-gray-600 hover:text-blue-500 transition-colors duration-300",children:e.jsx(oe,{className:"text-2xl hover:scale-110 transition-transform duration-300"})})]})]})})]})})}const ra="/assets/uplatnica-okV-iNdP.png",{Title:ve,Paragraph:se}=k;function ia(){return e.jsx("div",{className:"max-w-3xl mx-auto p-4 sm:p-6 rounded-3xl shadow-md bg-gray-50 my-8 sm:my-20",children:e.jsxs(B,{className:"bg-gray-50 border-none",children:[e.jsx(ve,{level:2,className:"text-center text-xl sm:text-2xl",children:"Postani naš 12. igrač!"}),e.jsx(se,{className:"text-base sm:text-lg",children:"Napravili smo članske iskaznice za narednu sezonu. Cijena članske iskaznice je 30 eura te se može kupiti uplatom na račun od SNK Moslavca. Također, članske iskaznice će se moći kupiti na tribini na svakoj domaćoj utakmici."}),e.jsx(se,{className:"text-base sm:text-lg",children:"Svi zainteresirani za kupnju članske iskaznice neka se jave u inbox stranice ili nekom od članova uprave."}),e.jsx(se,{strong:!0,className:"text-base sm:text-lg",children:"Napomena: Godišnja ulaznica vrijedi za domaće utakmice u 4. NL Središte B, kup utakmice i europske utakmice od 1.8.2024. do 31.7.2025."}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx(ve,{level:3,className:"text-lg sm:text-xl",children:"Podaci za uplatu:"}),e.jsxs(se,{className:"text-base sm:text-lg",children:["IBAN: HR7023400091100077909",e.jsx("br",{}),"Primatelj: SNK Moslavac Kutinska 10 44317 Popovača",e.jsx("br",{}),"Iznos: 30 EUR",e.jsx("br",{}),"Opis plaćanja: Članarica 2024-25 - [Vaše ime i prezime]"]})]}),e.jsx("div",{className:"mt-4 sm:mt-6",children:e.jsx(ie,{src:ra,alt:"Uplatnica",className:"w-full h-auto max-w-md mx-auto object-contain"})})]})})}const la={apiKey:"AIzaSyC8g2Z8VdVPxXffDUNMIY6-r2hLmWSR-YE",authDomain:"moslavac-9d4c8.firebaseapp.com",projectId:"moslavac-9d4c8",storageBucket:"moslavac-9d4c8.firebasestorage.app",messagingSenderId:"150038206448",appId:"1:150038206448:web:5fb794aa744f69bf0d2f35",measurementId:"G-9VGHLHQFC2"},oa=bs(la),Ke=ys(oa),ca=async()=>{try{return await Notification.requestPermission()==="granted"?await ws(Ke,{vapidKey:"BKVKwZRCWn0Vc-I5iWVbdcyz7ehFV8eqPf1ZAUDC-kUwqV61x-Qs5pgG4PDV15BYXKZK3Q1Y18RvQQSdzjChqwE"})||null:(console.error("Permission not granted for notifications"),null)}catch(s){return console.error("Error retrieving Firebase token:",s),null}};function da(){const[s,t]=x.useState(!1);return x.useEffect(()=>{if(!sessionStorage.getItem("isModalShown")){const n=setTimeout(()=>{t(!0),sessionStorage.setItem("isModalShown","true")},5e3);return()=>clearTimeout(n)}(async()=>{const n=await ca();n?(localStorage.setItem("firebaseToken",n),console.log("Firebase token saved:",n)):console.error("Failed to retrieve Firebase token")})(),Ns(Ke,n=>{console.log("Notification received:",n);const{title:i,body:l}=n.data;new Notification(i,{body:l})})},[]),e.jsxs(vs,{children:[e.jsx(Is,{}),e.jsxs(ks,{children:[e.jsx(w,{path:"/",element:e.jsx(we,{})}),e.jsx(w,{path:"/admin",element:e.jsx(we,{})}),e.jsx(w,{path:"/matches",element:e.jsx(Fs,{})}),e.jsx(w,{path:"/season/:competitionId/:competitionName",element:e.jsx(mt,{})}),e.jsx(w,{path:"/players/:id",element:e.jsx(ht,{})}),e.jsx(w,{path:"/stats/:playerId",element:e.jsx(gt,{})}),e.jsx(w,{path:"/news",element:e.jsx(fe,{})}),e.jsx(w,{path:"/news/admin",element:e.jsx(fe,{})}),e.jsx(w,{path:"/news/:id",element:e.jsx(Os,{})}),e.jsx(w,{path:"/admin/manage-news",element:e.jsx(Zs,{})}),e.jsx(w,{path:"/matches/:matchId",element:e.jsx(Ct,{})}),e.jsx(w,{path:"/first-team",element:e.jsx(Ne,{})}),e.jsx(w,{path:"/first-team/admin",element:e.jsx(Ne,{})}),e.jsx(w,{path:"/season-ticket-purchase",element:e.jsx(ia,{})})]}),e.jsx(na,{})]})}const ma=new Ts;Ss(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(Cs,{client:ma,children:e.jsx(da,{})})}));
